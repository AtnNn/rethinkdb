IssueComment
  { issueCommentUpdatedAt = 2014 (-10) (-11) 10 : 44 : 04 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 139396
        , simpleUserLogin = N "wojons"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/139396?v=3"
        , simpleUserUrl = "https://api.github.com/users/wojons"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/58745632"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2885#issuecomment-58745632"
  , issueCommentCreatedAt = 2014 (-10) (-11) 10 : 44 : 04 UTC
  , issueCommentBody =
      "This is a lot of stuff that you have here I will try to cover what i have learned from working with the existing API.\r\n\r\n* First off if a user has a lot of tables on the system returning one super massive document for all the stats that server has for that table may not be the best method I am sure its easiest with primary key would just be the server id, but then in  REQL would have to split the data server side or load the whole thing into there code which could use more memory then both parties want to use for something as simple as getting table stats. I guess i should say it should be a document per table with all the servers that have stats for it in that.\r\n\r\n* I aggree with @Tryneus that there is no needed to see how much CPU usage is being used by non rethinkdb processes. I also don't think there is a simple way to see how much of which core was used by rethinkdb with out a little black magic which would be different per OS.\r\n\r\n* I also agree with @Tryneus that disk stats only needed for where there there rethinkdb_data directory is located.\r\n\r\n* @Tryneus all stats should always be running totals since book. I cant tell you how many times i had to make some monitoring plugin for something and because the stats are not a running total your pretty much putting guess snap shot which can help but not true figures. But i Do think that for debugging reasons there should be a API call or command that restarts the running total's and sets them back to 0 this way you can get the most recent few minutes if there were weeks of great performance and 10 minutes of bad ones.\r\n\r\n* I think that inter-cluster traffic should have all of the server_id's maybe the totals over all but its its cool to say yeah i sent X amount of data over the cluster but does not tell me if there is a weird table back-fill always happening to a single node and that is why I sending so much traffic.\r\n\r\n* I was noticing that there are some stats that were in the table stats that were removed that related to extends, index blocks garbage collector, I find those all super useful stats to know what is going on per table. It also helps show how some insert patterns effect different things.\r\n\r\n\r\n\r\nServer Stats Purpose\r\n================\r\n```js\r\n{\r\n  \"id\": <UUID>,\r\n  \"name\": <STRING>,\r\n  \"coroutines\": {\r\n    \"active\": <NUMBER>,\r\n    \"allocated\": <NUMBER>\r\n  },\r\n  \"query_language\": {\r\n    \"queries_per_sec\": <NUMBER>,\r\n    \"active_queries\": <NUMBER>,\r\n    \"total_queries\": <NUMBER>,\r\n    \"query_duration_ms\": {\r\n      \"50_percentile\": <NUMBER>,\r\n      \"90_percentile\": <NUMBER>,\r\n      \"99_percentile\": <NUMBER>\r\n    }\r\n  },\r\n  \"disk\": {\r\n    \"tables\": \r\n      <table_id>: {\r\n        \"db\": <STRING>,\r\n        \"table\": <STRING>,\r\n        \"table_id\": <STRING>,\r\n        \"used_bytes\": <NUMBER>,\r\n        \"reads_per_sec\": <NUMBER>,\r\n        \"writes_per_sec\": <NUMBER> \r\n      }, ...\r\n    },\r\n    \"used_bytes\": <NUMBER>,\r\n    \"free_bytes\": <NUMBER>,\r\n    \"total_bytes\": <NUMBER>,\r\n    \"reads_per_sec\": <NUMBER>,\r\n    \"writes_per_sec\": <NUMBER>\r\n  },\r\n  \"memory\": {\r\n    \"tables\": \r\n     <table_id> : {\r\n      \"db\": <STRING>,\r\n      \"table\": <STRING>,\r\n      \"table_id\": <UUID>,\r\n      \"used_bytes\": <NUMBER> \r\n     }, ...\r\n    },\r\n    \"used_bytes\": <NUMBER>,\r\n    \"free_bytes\": <NUMBER>,\r\n    \"total_bytes\": <NUMBER>,\r\n    \"active_swap\": <BOOL>\r\n  },\r\n  \"cpu\": {\r\n   \"user\": <NUMBER>\r\n   \"system\": <NUMBER>\r\n    \"total\": <NUMBER>\r\n  },\r\n  \"network\": {\r\n    \"cluster_latency_ms\": <NUMBER>,\r\n    \"intracluster\": {\r\n      <SERVER_ID> : {\r\n       \"sent_bytes\": <NUMBER>,\r\n       \"received_bytes\": <NUMBER>,\r\n       \"active_connections\": <NUMBER>,\r\n       \"total_connections\": <NUMBER>\r\n     },\r\n     \"sent_bytes\": <NUMBER>,\r\n     \"received_bytes\": <NUMBER>,\r\n     \"active_connections\" <NUMBER>\r\n     \"total_connections\": <NUMBER>\r\n    },\r\n    \"clients\": {\r\n      \"sent_bytes\": <NUMBER>,\r\n      \"received_bytes\": <NUMBER>,\r\n      \"active_connections\": <NUMBER>,\r\n      \"total_connections\": <NUMBER>\r\n    }\r\n  }\r\n}\r\n```"
  , issueCommentId = 58745632
  }