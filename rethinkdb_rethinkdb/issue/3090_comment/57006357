IssueComment
  { issueCommentUpdatedAt = 2014 (-09) (-26) 19 : 04 : 23 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 638526
        , simpleUserLogin = N "gato"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/638526?v=3"
        , simpleUserUrl = "https://api.github.com/users/gato"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/57006357"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3090#issuecomment-57006357"
  , issueCommentCreatedAt = 2014 (-09) (-26) 19 : 04 : 23 UTC
  , issueCommentBody =
      "Hi, \r\nI've reimported the original dataset (around 5M docs) and run some test and they worked ok (i had 1 or 2 server disconection but that was all). so I started loading the full dataset (21M docs) and one of the servers failed while running the import process. (at aprox 19M docs)\r\n\r\nthose are the logs:\r\nServer 1:\r\n```\r\n2014-09-25T10:57:22.716848337 5.090075s info: Running rethinkdb 1.14.1-0ubuntu1~trusty (GCC 4.8.2)...\r\n2014-09-25T10:57:22.740781195 5.114009s info: Running on Linux 3.13.0-34-generic x86_64\r\n2014-09-25T10:57:22.740901040 5.114127s info: Using cache size of 512 MB\r\n2014-09-25T10:57:22.741341817 5.114568s info: Loading data from directory /mnt/v0/rethinkdb/data\r\n2014-09-25T10:57:22.777616743 5.150843s info: Listening for intracluster connections on port 29015\r\n2014-09-25T10:57:22.777861916 5.151088s info: Attempting connection to 1 peer...\r\n2014-09-25T10:57:22.786064698 5.159291s info: Listening for client driver connections on port 28015\r\n2014-09-25T10:57:22.786244969 5.159471s info: Listening for administrative HTTP connections on port 8080\r\n2014-09-25T10:57:22.786249516 5.159476s info: Connected to server \"larryv0\" a4d687b6-4bdb-4207-a48e-aeb9eaed4f2c\r\n2014-09-25T10:57:22.790147613 5.163374s info: Listening on addresses: 127.0.0.1, 127.0.1.1, 10.160.220.50, 10.160.221.50, ::1, fe80::217:a4ff:fea7:ac3%2, fe80::217:a4ff:fea7:ac4%3\r\n2014-09-25T10:57:22.790155112 5.163381s info: Server ready\r\n2014-09-25T21:04:01.483095821 36403.805568s info: Disconnected from server \"larryv0\" a4d687b6-4bdb-4207-a48e-aeb9eaed4f2c\r\n2014-09-25T21:04:04.471407758 36406.793879s info: Connected to server \"larryv0\" a4d687b6-4bdb-4207-a48e-aeb9eaed4f2c\r\n2014-09-26T14:23:59.183050421 98801.505521s error: Heartbeat timeout, killing connection to peer ::ffff:10.160.222.51\r\n2014-09-26T14:23:59.916072239 98802.238543s info: Disconnected from server \"larryv0\" a4d687b6-4bdb-4207-a48e-aeb9eaed4f2c\r\n```\r\n\r\nServer 2 (the one with the error):\r\n```\r\n2014-09-25T10:56:48.170626257 5.346056s info: Running rethinkdb 1.14.1-0ubuntu1~trusty (GCC 4.8.2)...\r\n2014-09-25T10:56:48.185744257 5.361175s info: Running on Linux 3.13.0-34-generic x86_64\r\n2014-09-25T10:56:48.185855786 5.361286s info: Using cache size of 512 MB\r\n2014-09-25T10:56:48.186141421 5.361571s info: Loading data from directory /mnt/v0/rethinkdb/data\r\n2014-09-25T10:56:48.238824341 5.414254s info: Listening for intracluster connections on port 29015\r\n2014-09-25T10:56:48.239071038 5.414501s info: Attempting connection to 1 peer...\r\n2014-09-25T10:57:22.833675987 39.759934s info: Connected to server \"moev0\" d9e26816-d546-41ee-9194-f83b0fc8ff7b\r\n2014-09-25T10:57:22.835094344 39.761353s info: Listening for client driver connections on port 28015\r\n2014-09-25T10:57:22.835380242 39.761639s info: Listening for administrative HTTP connections on port 8080\r\n2014-09-25T10:57:22.837132536 39.763391s info: Listening on addresses: 127.0.0.1, 127.0.1.1, 10.160.221.51, 10.160.222.51, ::1, fe80::218:71ff:fee3:6e6d%2, fe80::218:71ff:fee3:6e6e%3\r\n2014-09-25T10:57:22.837240277 39.763499s info: Server ready\r\n2014-09-25T21:03:55.677450966 36432.603709s error: Heartbeat timeout, killing connection to peer ::ffff:10.160.221.50\r\n2014-09-25T21:03:55.678208625 36432.604467s info: Disconnected from server \"moev0\" d9e26816-d546-41ee-9194-f83b0fc8ff7b\r\n2014-09-25T21:04:04.561072618 36441.487331s info: Connected to server \"moev0\" d9e26816-d546-41ee-9194-f83b0fc8ff7b\r\n2014-09-26T14:23:45.078447313 98822.004706s error: Error in src/arch/runtime/thread_pool.cc at line 343:\r\n2014-09-26T14:23:45.143476886 98822.069735s error: Segmentation fault from reading the address 0x7c9b8ac5.\r\n2014-09-26T14:23:45.143524434 98822.069783s error: Backtrace:\r\n2014-09-26T14:24:14.645453066 98851.571713s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n2014-09-26T14:24:18.064532476 98854.990791s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n2014-09-26T14:24:20.064550995 98856.990809s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n2014-09-26T14:24:22.064589806 98858.990848s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n2014-09-26T14:24:27.722749596 98864.649008s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n2014-09-26T14:24:40.723142184 98877.649401s error: Heartbeat timeout, killing connection to peer 10.160.220.50\r\n```\r\nBoth servers are identical dual core 2GB ram and 120GB Sata 3 SSD. no other software are running on them (both are physical ones) and rethinkdb is configured to use 512MB as cache.\r\nat the time of the crash server 1 has 400MB of swap memory allocated and server 2 1.1GB. so maybe cache value is configured too high. \r\nDatabase is configured with 2 replicas 2 shards 2 ack. \r\n\r\nAnyway version 1.15 was released and i saw a couple of thread_pool errors fixed in the commits that are part of it so i will install this version and start over with the tests. \r\n\r\nAre disconnections and swapping normal? or could this be part of the problem? are there any parameter for the server for make logs more verbose? or do i have to compile my version to have a better logging?\r\n\r\nThanks.\r\n"
  , issueCommentId = 57006357
  }