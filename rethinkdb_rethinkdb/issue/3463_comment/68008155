IssueComment
  { issueCommentUpdatedAt = 2014 (-12) (-23) 22 : 58 : 57 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/68008155"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3463#issuecomment-68008155"
  , issueCommentCreatedAt = 2014 (-12) (-23) 22 : 58 : 57 UTC
  , issueCommentBody =
      "I ended up implementing a logic that limits the number of concurrent branch history flushes (to disk). This allows multiple changes to the branch history to be combined into a single disk write.\r\n\r\nThe result is that not only the memory issue goes away, but the tables become available virtually instantly after starting the server. Without this, they take about a minute even on an SSD, while the branch history is rewritten over and over.\r\nAs another neat side-effect, the on-disk size of the `metadata` file goes down to less than 300 MB compared to up to ~1.4 GB previously. I expect that it's going to shrinks even more over time as garbage collection keeps moving data to the beginning of the file.\r\n\r\nUnfortunately this is a slightly bigger change, so I'm not going to merge the fix into v1.15.x. Instead we are going to release it with RethinkDB 1.16.\r\n\r\nAgain, as a work-around for now, I recommend starting over with a fresh database (i.e. delete the RethinkDB data directory)."
  , issueCommentId = 68008155
  }