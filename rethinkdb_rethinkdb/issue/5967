Issue
  { issueClosedAt = Nothing
  , issueUpdatedAt = 2016 (-10) (-18) 07 : 04 : 22 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5967/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/5967"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "0052cc"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:ReQL_proposal"
          , labelName = "tp:ReQL_proposal"
          }
      ]
  , issueNumber = 5967
  , issueAssignee = Nothing
  , issueUser =
      SimpleUser
        { simpleUserId = Id 690517
        , simpleUserLogin = N "mike-marcacci"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/690517?v=3"
        , simpleUserUrl = "https://api.github.com/users/mike-marcacci"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "Add \"strict\" mode for indices"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5967"
  , issueCreatedAt = 2016 (-07) (-17) 23 : 10 : 43 UTC
  , issueBody =
      Just
        "I wrote this as [a comment](https://github.com/rethinkdb/rethinkdb/issues/1032#issuecomment-233209588) to #1032 and immediately realized it should be its own issue.\n---\n\nI'd like to add to this proposal. As far as I currently understand, the plan is to:\n- start indexing `null` values\n- ignore rows that return an \"undefined\" type using `r.absent()` or the existing `r.literal()`\n\nI'd like to also reconsider the behavior of an r.error() (or an implicit error, like operating on the wrong type or not specifying a default) when returned by an index function. I'd propose that a write operation fail if any index returns an error. Likewise, I would propose that creating an index should fail if any documents return such an error.\n\nThis would ensure our indices are expecting the correct document structures, and aren't silently missing documents that we would expect to have indexed. This would also have the effect of validating every document in the table.\n\nTo ensure backwards-compatibility and ease the process of schema migrations, `indexCreate` could receive a boolean option of `strict` to enable this behavior.\n\nPiggy-backing on the same logic, rethinkdb could introduce the concept of \"validators\" which would function similarly to \"strict\" indices, but wouldn't actually create the b-trees. This could essentially accomplish #5494, #5879, and #4210, as any json-schema or Joi schema could be compiled into a rql expression and stored as a \"validator\" expression in the database.\n"
  , issueState = "open"
  , issueId = Id 166001085
  , issueComments = 2
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 268
          , milestoneNumber = 41
          , milestoneClosedIssues = 0
          , milestoneDescription =
              Just
                "Issues in this milestone will be revisited after each major release during the planning stage for the major release after it. They will be moved to a specific release milestone if chosen for that release."
          , milestoneTitle = "subsequent"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/41"
          , milestoneCreatedAt = 2013 (-06) (-30) 07 : 32 : 52 UTC
          , milestoneState = "open"
          }
  }