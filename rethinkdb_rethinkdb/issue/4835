Issue
  { issueClosedAt = Nothing
  , issueUpdatedAt = 2015 (-11) (-17) 01 : 33 : 52 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4835/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/4835"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "444444"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:performance"
          , labelName = "tp:performance"
          }
      ]
  , issueNumber = 4835
  , issueAssignee = Nothing
  , issueUser =
      SimpleUser
        { simpleUserId = Id 335309
        , simpleUserLogin = N "hwestbrook"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/335309?v=3"
        , simpleUserUrl = "https://api.github.com/users/hwestbrook"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "2.1.3 server very slow, high load and high iowait"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4835"
  , issueCreatedAt = 2015 (-09) (-13) 22 : 49 : 08 UTC
  , issueBody =
      Just
        "After updating to 2.1.3, my server has become extremely slow. Investingating possible causes has focused me on the high load and high iowait stats. I'm running rethinkdb on a t3.micro. \n\nStats\n\niostat:\n\n```\nubuntu@ip-172-31-18-121:~$ iostat -x 5 5\nLinux 3.13.0-48-generic (ip-172-31-18-121)  09/13/2015  _x86_64_    (1 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           2.45    0.00    0.79   77.20   19.44    0.13\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util\nxvda              2.28     1.18   61.50    5.65  1173.37   266.14    42.87    29.50  439.36  441.02  421.23  11.99  80.49\nxvdf              0.03     1.12    0.16    0.04     0.75     4.65    52.90     0.00    1.53    0.54    5.31   0.77   0.02\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           1.81    0.00    0.40   96.38    1.41    0.00\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util\nxvda              0.00     5.63   87.93    6.24   915.09    57.95    20.67    18.11  181.07  184.51  132.52  10.53  99.15\nxvdf              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00    0.00    0.00   0.00   0.00\n```\n\ntop: \n\n```\ntop - 22:40:19 up 30 min,  2 users,  load average: 64.20, 63.86, 54.29\n%Cpu(s):  6.1 us,  1.0 sy,  0.0 ni,  0.0 id, 92.6 wa,  0.0 hi,  0.0 si,  0.3 st\n%Cpu(s):  3.1 us,  0.3 sy,  0.0 ni,  0.0 id, 96.3 wa,  0.0 hi,  0.0 si,  0.3 st\nMiB Mem:   992.473 total,  927.391 used,   65.082 free,    0.484 buffers\nMiB Swap: 5119.996 total,   22.984 used, 5097.012 free.   30.223 cached Mem\n\n    1 root      20   0   32.7m   1.0m   0.0m S  0.0  0.1   0:01.14 init\n 1133 rethink+  20   0 1263.2m 827.4m   4.6m S  5.3 83.4   1:11.82 rethinkdb\n    1 root      20   0   32.7m   1.0m   0.0m S  0.0  0.1   0:01.14 init\n    2 root      20   0    0.0m   0.0m   0.0m S  0.0  0.0   0:00.00 kthreadd\n    3 root      20   0    0.0m   0.0m   0.0m S  0.0  0.0   0:00.00 ksoftirqd/0\n```\n\nsar 1: \n\n```\nubuntu@ip-172-31-18-121:~$ sar 1\nLinux 3.13.0-48-generic (ip-172-31-18-121)  09/13/2015  _x86_64_    (1 CPU)\n\n10:41:10 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle\n10:41:11 PM     all      1.02      0.00      1.02     96.94      1.02      0.00\n10:41:12 PM     all      2.06      0.00      1.03     96.91      0.00      0.00\n10:41:13 PM     all      0.00      0.00      0.00    100.00      0.00      0.00\n10:41:14 PM     all      0.00      0.00      0.00     98.99      1.01      0.00\n10:41:15 PM     all      2.02      0.00      1.01     96.97      0.00      0.00\n10:41:16 PM     all     14.85      0.00      1.98     83.17      0.00      0.00\n10:41:17 PM     all      2.94      0.00      1.96     95.10      0.00      0.00\n10:41:18 PM     all      6.06      0.00      1.01     92.93      0.00      0.00\n10:41:19 PM     all      3.92      0.00      1.96     94.12      0.00      0.00\n10:41:20 PM     all      1.04      0.00      0.00     97.92      1.04      0.00\n10:41:21 PM     all      1.01      0.00      1.01     97.98      0.00      0.00\n10:41:22 PM     all      4.00      0.00      1.00     95.00      0.00      0.00\n```\n\nsar -w 1:\n\n```\nubuntu@ip-172-31-18-121:~$ sar -w 1\nLinux 3.13.0-48-generic (ip-172-31-18-121)  09/13/2015  _x86_64_    (1 CPU)\n\n10:41:12 PM    proc/s   cswch/s\n10:41:13 PM      0.00   1792.78\n10:41:14 PM      0.00    725.51\n10:41:15 PM      0.00   1597.98\n10:41:16 PM      0.00   1894.06\n10:41:17 PM      0.00   2175.49\n10:41:18 PM      0.00   1243.43\n10:41:19 PM      0.00   1517.82\n10:41:20 PM      0.00   1563.92\n10:41:21 PM      0.00   1329.00\n10:41:22 PM      0.00   1420.20\n10:41:23 PM      0.00   1267.68\n10:41:24 PM      0.00   1163.00\n10:41:25 PM      0.00    987.13\n10:41:26 PM      0.00   1247.47\n10:41:27 PM      0.00   1288.66\n```\n\niotop single process: \n\n```\nTotal DISK READ :     407.56 K/s | Total DISK WRITE :      59.35 K/s\nActual DISK READ:     407.56 K/s | Actual DISK WRITE:     265.11 K/s\n  PID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND\n 1133 be/4 rethinkd  407.56 K/s   59.35 K/s  0.00 % 23.98 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n    1 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % init\n    2 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % [kthreadd]\n    3 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % [ksoftirqd/0]\n    5 be/0 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % [kworker/0:0H]\n    6 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % [kworker/u30:0]\n```\n\niotop threads: \n\n```\nTotal DISK READ :    1024.98 K/s | Total DISK WRITE :     161.63 K/s\nActual DISK READ:    1024.98 K/s | Actual DISK WRITE:     701.72 K/s\n  TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND\n 1157 be/4 rethinkd   39.42 K/s  102.50 K/s  0.00 % 76.82 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1158 be/4 rethinkd   23.65 K/s    0.00 B/s  0.00 % 52.24 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1153 be/4 rethinkd   59.13 K/s    3.94 K/s  0.00 % 51.23 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1142 be/4 rethinkd   19.71 K/s    0.00 B/s  0.00 % 46.86 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1188 be/4 rethinkd   15.77 K/s    0.00 B/s  0.00 % 46.83 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1201 be/4 rethinkd   15.77 K/s    3.94 K/s  0.00 % 46.80 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1172 be/4 rethinkd  402.11 K/s   11.83 K/s  0.00 % 45.95 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1166 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 43.95 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1204 be/4 rethinkd   86.73 K/s    0.00 B/s  0.00 % 43.37 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1165 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 42.99 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1151 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 42.02 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1141 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 41.02 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1160 be/4 rethinkd   11.83 K/s    3.94 K/s  0.00 % 40.04 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1170 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 39.06 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1182 be/4 rethinkd    7.88 K/s    3.94 K/s  0.00 % 38.07 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1176 be/4 rethinkd   31.54 K/s    0.00 B/s  0.00 % 37.04 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1196 be/4 rethinkd   15.77 K/s    0.00 B/s  0.00 % 36.92 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1147 be/4 rethinkd   15.77 K/s    0.00 B/s  0.00 % 36.07 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1168 be/4 rethinkd   27.60 K/s    0.00 B/s  0.00 % 32.54 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1164 be/4 rethinkd   51.25 K/s    3.94 K/s  0.00 % 29.55 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1189 be/4 rethinkd    7.88 K/s    3.94 K/s  0.00 % 23.65 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1185 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 22.64 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1154 be/4 rethinkd    3.94 K/s    0.00 B/s  0.00 % 21.66 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1163 be/4 rethinkd    3.94 K/s    0.00 B/s  0.00 % 20.67 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1171 be/4 rethinkd    3.94 K/s    0.00 B/s  0.00 % 19.69 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1187 be/4 rethinkd    0.00 B/s    3.94 K/s  0.00 % 18.72 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1190 be/4 rethinkd    3.94 K/s    0.00 B/s  0.00 % 18.70 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1186 be/4 rethinkd    3.94 K/s    3.94 K/s  0.00 % 17.80 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1180 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 17.75 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1162 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 17.01 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1150 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 16.84 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1144 be/4 rethinkd   11.83 K/s    0.00 B/s  0.00 % 15.80 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1198 be/4 rethinkd    7.88 K/s    3.94 K/s  0.00 % 15.76 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1184 be/4 rethinkd    0.00 B/s    0.00 B/s  0.00 % 15.35 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n  205 be/3 root        0.00 B/s    0.00 B/s  0.00 % 15.27 % [jbd2/xvda1-8]\n 1156 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 14.79 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1175 be/4 rethinkd    3.94 K/s    3.94 K/s  0.00 % 14.78 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1183 be/4 rethinkd    0.00 B/s    0.00 B/s  0.00 % 14.41 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1152 be/4 rethinkd    0.00 B/s    0.00 B/s  0.00 % 14.30 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1159 be/4 rethinkd    0.00 B/s    0.00 B/s  0.00 % 14.30 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1174 be/4 rethinkd    3.94 K/s    3.94 K/s  0.00 % 13.79 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1194 be/4 rethinkd    7.88 K/s    3.94 K/s  0.00 % 13.73 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1155 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 12.81 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1149 be/4 rethinkd   15.77 K/s    0.00 B/s  0.00 % 12.75 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n 1146 be/4 rethinkd    7.88 K/s    0.00 B/s  0.00 % 11.83 % rethinkdb --daemon --config-file /etc/rethinkdb/instances.d/instance1.c~thinkdb/instance1/pid_file --directory /var/lib/rethinkdb/instance1/data\n```\n\nNot sure what the issue is, after doing research about this. Some other notes:\n- DB is about 12GB, taking up 75% of disk. \n- only running on this one AWS server, not sharded\n- RethinkDB is the only real application running on this server\n- RethinkDB has 768MB memory\n- An index is currently being rebuilt on a large (7M document) table, but this was happening before that was started\n- The server is not under a lot of load, avg 200 reads per second, 50 writes per second (only while index being rebuilt)\n"
  , issueState = "open"
  , issueId = Id 106246421
  , issueComments = 9
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 882
          , milestoneNumber = 2
          , milestoneClosedIssues = 0
          , milestoneDescription =
              Just
                "Issues in this milestone are not an immediate priority, and will be periodically revisited. When we decide to work on an issue in backlog, we'll move it to next."
          , milestoneTitle = "backlog"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/2"
          , milestoneCreatedAt = 2012 (-11) (-11) 14 : 16 : 11 UTC
          , milestoneState = "open"
          }
  }