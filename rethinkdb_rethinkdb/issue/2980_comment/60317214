IssueComment
  { issueCommentUpdatedAt = 2014 (-10) (-23) 22 : 08 : 02 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 1366
        , simpleUserLogin = N "deontologician"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1366?v=3"
        , simpleUserUrl = "https://api.github.com/users/deontologician"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/60317214"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2980#issuecomment-60317214"
  , issueCommentCreatedAt = 2014 (-10) (-23) 22 : 08 : 02 UTC
  , issueCommentBody =
      "The web-ui can also pre-fetch this data so it's cached when the user gets\r\nto a page that needs it. There are some tricks we could play there\r\n\r\nOn Thu, Oct 23, 2014 at 3:01 PM, Timothy Maxwell <notifications@github.com>\r\nwrote:\r\n\r\n> Under heavy load it can take over a second per table. That's unacceptable,\r\n> especially because it's important that rethinkdb.table_status be\r\n> available during reconfigurations, when the database is busy rebalancing.\r\n> So we can't put the field in rethinkdb.table_status.\r\n>\r\n> Here are some alternatives:\r\n>\r\n>    - Add a new pseudo-table rethinkdb.table_num_docs specifically for\r\n>    this purpose. But people expect reading from a table to be fast, so this\r\n>    might be a bad idea.\r\n>    - Add a new ReQL command called r.table().distribution() or something\r\n>    similar. It would return an array of document counts, one for each shard.\r\n>    - Put the document counts in r.table().info(). Maybe we could add an\r\n>    optarg to enable or disable them.\r\n>    - Cache the document counts. The web UI probably needs the first batch\r\n>    to be fast, so we would have to initialize the cache at startup. We'd also\r\n>    have to think about how often to refresh the cache. I think it would be\r\n>    difficult to get this right.\r\n>\r\n> /cc @coffeemug <https://github.com/coffeemug> @danielmewes\r\n> <https://github.com/danielmewes>\r\n>\r\n> \8212\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/rethinkdb/rethinkdb/issues/2980#issuecomment-60316493>\r\n> .\r\n>"
  , issueCommentId = 60317214
  }