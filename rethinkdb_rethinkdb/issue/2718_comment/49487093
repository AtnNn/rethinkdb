IssueComment
  { issueCommentUpdatedAt = 2014 (-07) (-18) 22 : 36 : 24 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 1461947
        , simpleUserLogin = N "neumino"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1461947?v=3"
        , simpleUserUrl = "https://api.github.com/users/neumino"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/49487093"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2718#issuecomment-49487093"
  , issueCommentCreatedAt = 2014 (-07) (-18) 22 : 36 : 24 UTC
  , issueCommentBody =
      "@mlucy -- I built your branch, and I still have the same crash\r\n\r\n```\r\nmichel@t520:~/projects/rethinkdb-all/rethinkdb/build/release$ rethinkdb\r\ninfo: Running rethinkdb 1.13.1 (GCC 4.9.0)...\r\ninfo: Running on Linux 3.15.5-1-ARCH x86_64\r\ninfo: Using cache size of 2362 MB\r\ninfo: Loading data from directory /home/michel/projects/rethinkdb-all/rethinkdb/build/release/rethinkdb_data\r\ninfo: Listening for intracluster connections on port 29015\r\ninfo: Listening for client driver connections on port 28015\r\ninfo: Listening for administrative HTTP connections on port 8080\r\ninfo: Listening on addresses: 127.0.0.1, ::1\r\ninfo: To fully expose RethinkDB on the network, bind to all addresses\r\ninfo: by running rethinkdb with the `--bind all` command line option.\r\ninfo: Server ready\r\nVersion: rethinkdb 1.13.1 (GCC 4.9.0)\r\nerror: Error in src/protob/json_shim.cc at line 245:\r\nerror: Guarantee failed: [d->type() == Datum::R_JSON] \r\nerror: Backtrace:\r\nerror: Fri Jul 18 15:33:23 2014\r\n       \r\n       1: backtrace_t::backtrace_t() at visitation_impl.hpp:182\r\n       2: format_backtrace(bool) at visitation_impl.hpp:182\r\n       3: report_fatal_error(char const*, int, char const*, ...) at stl_tree.h:1543\r\n       4: json_shim::write_json_pb(Response const&, std::string*) at forced_return.hpp:48\r\n       5: query_server_t::handle(http_req_t const&, http_res_t*, signal_t*) at error.hpp:245\r\n       6: routing_http_app_t::handle(http_req_t const&, http_res_t*, signal_t*) at new_allocator.h:110\r\n       7: routing_http_app_t::handle(http_req_t const&, http_res_t*, signal_t*) at new_allocator.h:110\r\n       8: http_server_t::handle_conn(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) at changefeed.cc:611\r\n       9: std::_Function_handler<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&), boost::_bi::bind_t<void, boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<http_server_t*>, boost::arg<1>, boost::_bi::value<auto_drainer_t::lock_t> > > >::_M_invoke(std::_Any_data const&, scoped_ptr_t<linux_tcp_conn_descriptor_t>&) at functional:1922\r\n       10: linux_nonthrowing_tcp_listener_t::handle(int) at counted.hpp:63\r\n       11: coro_t::run() at name_string.hpp:14\r\nerror: Exiting.\r\nTrace/breakpoint trap\r\n```\r\n\r\n\r\nConfigure\r\n```\r\nmichel@t520:~/projects/rethinkdb-all/rethinkdb$ ./configure --allow-fetch --fetch v8 --dynamic all\r\n* Detecting system configuration\r\nBash:                           4.3.18(1)-release\r\nUse ccache:                     no\r\nC++ Compiler:                   GCC 4.9.0 (/usr/bin/c++)\r\nHost System:                    x86_64-unknown-linux-gnu\r\nBuild System:                   Linux 3.15.5-1-ARCH x86_64\r\nCross-compiling:                no\r\nHost Operating System:          Linux\r\nWithout tcmalloc:               no\r\nBuild Architecture:             x86_64\r\nC++11:                          ok\r\nPrecompiled web assets:         no\r\nProtobuf compiler:              /usr/local/bin/protoc\r\npython:                         python 2.7.8\r\nNode.js package manager:        /usr/bin/npm\r\nLESS css:                       lessc 1.6.2\r\nCoffeeScript:                   coffee 1.7.1\r\nHandlebars:                     external/handlebars_1.3.0\r\nBrowserify:                     external/browserify_3.24.13\r\nbluebird:                       external/bluebird_1.2.1\r\nwget:                           /usr/bin/wget\r\ncurl:                           /usr/bin/curl\r\nprotobuf:                       -lprotobuf\r\nv8 javascript engine:           external/v8_3.22.24.17\r\nRE2:                            external/re2_20140111\r\nz:                              -lz\r\ncurl:                           -lcurl\r\nGoogle Test:                    external/gtest_1.6.0\r\ntermcap:                        -lncurses\r\nboost_system:                   -lboost_system\r\ntcmalloc_minimal:               -ltcmalloc_minimal\r\nTest protobuf:                  ok\r\nTest boost:                     ok\r\nInstallation prefix:            /usr/local\r\nConfiguration prefix:           /usr/local/etc\r\nRuntime data prefix:            /usr/local/var\r\n* Wrote configuration to config.mk\r\n```\r\n\r\n\r\nSystem\r\n```\r\nmichel@t520:~/projects/rethinkdb-all/rethinkdb/build/release$ uname -a\r\nLinux t520 3.15.5-1-ARCH #1 SMP PREEMPT Thu Jul 10 07:08:50 CEST 2014 x86_64 GNU/Linux\r\n```"
  , issueCommentId = 49487093
  }