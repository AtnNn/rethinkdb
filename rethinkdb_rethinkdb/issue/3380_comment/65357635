IssueComment
  { issueCommentUpdatedAt = 2014 (-12) (-03) 05 : 21 : 36 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 145103
        , simpleUserLogin = N "pzol"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/145103?v=3"
        , simpleUserUrl = "https://api.github.com/users/pzol"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/65357635"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3380#issuecomment-65357635"
  , issueCommentCreatedAt = 2014 (-12) (-03) 05 : 21 : 36 UTC
  , issueCommentBody =
      "iostat -d -w 1\r\n```\r\n         disk0\r\n    KB/t tps  MB/s\r\n   16.39 137  2.20\r\n   20.74 1585 32.10\r\n   22.22 1684 36.53\r\n   21.33 1560 32.48\r\n   20.86 1438 29.29\r\n   20.73 1533 31.02\r\n   21.11 1628 33.56\r\n   22.35 1397 30.50\r\n   19.55 1561 29.81\r\n   24.26 1186 28.09\r\n   21.73 1560 33.09\r\n   24.24 1085 25.69\r\n   23.38 1375 31.40\r\n   20.02 1524 29.79\r\n   23.07 1239 27.93\r\n   19.60 1571 30.07\r\n   26.70 1059 27.60\r\n   22.93 1261 28.22\r\n```\r\n\r\na speed test, reading and writing the source file for the import  on my\r\nMac's SSD drive\r\n```\r\ndd if=batch.json of=outfile bs=8k\r\n237311+1 records in\r\n237311+1 records out\r\n1944056748 bytes (1.9 GB) copied, 13.7234 s, 142 MB/s\r\n```\r\n\r\niostat during that copy\r\n```\r\niostat -d -w 1\r\n          disk0\r\n    KB/t tps  MB/s\r\n   17.01 140  2.32\r\n  591.07 660 381.11\r\n  581.30 668 379.20\r\n  653.96 628 400.86\r\n  658.68 596 383.65\r\n```\r\n\r\nWhat I noticed is that only around 4 of the python clients are actually\r\nconsuming cpu at the same time\r\n\r\nps aux | grep rethinkdb\r\n```\r\npzol            17191 147.3 26.5  4942992 2223684 s001  R+    5:46AM\r\n3:00.12 rethinkdb --cache-size 2048 --no-direct-io\r\npzol            17237  45.6  0.3  2482820  22524 s002  S+    5:47AM\r\n0:02.26\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17232  12.8  0.3  2483932  23432 s002  S+    5:47AM\r\n0:02.39\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17261  12.7  0.1  2472284   6252 s002  R+    5:47AM\r\n0:34.16\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17238   9.1  0.3  2484104  23584 s002  S+    5:47AM\r\n0:02.37\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17241   6.7  0.3  2484376  24332 s002  S+    5:47AM\r\n0:02.40\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17228   3.1  0.3  2484132  23696 s002  S+    5:47AM\r\n0:02.38\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17239   0.9  0.3  2484060  24036 s002  S+    5:47AM\r\n0:02.43\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17236   0.7  0.3  2484372  24084 s002  S+    5:47AM\r\n0:02.46\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17234   0.2  0.3  2483952  23860 s002  S+    5:47AM\r\n0:02.32\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17235   0.1  0.3  2483828  24084 s002  S+    5:47AM\r\n0:02.34\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17196   0.1  0.1  2471296   8968 s002  S+    5:47AM\r\n0:00.40\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17225   0.0  0.3  2483412  23004 s002  S+    5:47AM\r\n0:02.30\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17224   0.0  0.3  2484560  24168 s002  S+    5:47AM\r\n0:02.47\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17223   0.0  0.3  2484132  23616 s002  S+    5:47AM\r\n0:02.18\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17222   0.0  0.3  2484640  23440 s002  S+    5:47AM\r\n0:02.36\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17221   0.0  0.3  2484032  23904 s002  S+    5:47AM\r\n0:02.31\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17220   0.0  0.3  2484084  23380 s002  S+    5:47AM\r\n0:02.37\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17219   0.0  0.3  2483752  23332 s002  S+    5:47AM\r\n0:02.14\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17218   0.0  0.3  2483960  23248 s002  S+    5:47AM\r\n0:02.35\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17217   0.0  0.3  2484736  23740 s002  S+    5:47AM\r\n0:02.33\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17216   0.0  0.3  2484056  23868 s002  S+    5:47AM\r\n0:02.40\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17215   0.0  0.3  2482440  21676 s002  S+    5:47AM\r\n0:02.19\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17214   0.0  0.3  2484188  23656 s002  S+    5:47AM\r\n0:02.40\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17213   0.0  0.3  2482276  21704 s002  S+    5:47AM\r\n0:02.39\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17212   0.0  0.3  2482788  22508 s002  S+    5:47AM\r\n0:02.31\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17211   0.0  0.3  2485328  23688 s002  S+    5:47AM\r\n0:02.60\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17210   0.0  0.3  2483608  23220 s002  S+    5:47AM\r\n0:02.38\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17209   0.0  0.3  2482868  22748 s002  S+    5:47AM\r\n0:02.46\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17208   0.0  0.3  2483304  23140 s002  S+    5:47AM\r\n0:02.42\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17207   0.0  0.3  2482160  22584 s002  S+    5:47AM\r\n0:02.43\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17206   0.0  0.3  2483136  22992 s002  S+    5:47AM\r\n0:02.44\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17205   0.0  0.3  2484156  24028 s002  S+    5:47AM\r\n0:02.52\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17204   0.0  0.3  2482004  22652 s002  S+    5:47AM\r\n0:02.49\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17203   0.0  0.3  2483184  23012 s002  S+    5:47AM\r\n0:02.43\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17202   0.0  0.3  2483340  22604 s002  S+    5:47AM\r\n0:02.36\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17201   0.0  0.3  2484244  23688 s002  S+    5:47AM\r\n0:02.55\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17200   0.0  0.3  2483648  23596 s002  S+    5:47AM\r\n0:02.39\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17199   0.0  0.3  2482640  22576 s002  S+    5:47AM\r\n0:02.33\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17198   0.0  0.3  2484340  23676 s002  S+    5:47AM\r\n0:02.39\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17197   0.0  0.3  2483572  23932 s002  S+    5:47AM\r\n0:02.37\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17192   0.0  0.0  2473264    244 s001  S     5:46AM\r\n0:00.00 rethinkdb --cache-size 2048 --no-direct-io\r\npzol            17260   0.0  0.3  2484880  23604 s002  S+    5:47AM\r\n0:02.25\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17259   0.0  0.3  2484320  23936 s002  S+    5:47AM\r\n0:02.22\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17258   0.0  0.3  2483932  23232 s002  S+    5:47AM\r\n0:02.33\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17257   0.0  0.3  2484368  24300 s002  S+    5:47AM\r\n0:02.25\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17256   0.0  0.3  2484072  23840 s002  S+    5:47AM\r\n0:02.31\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17255   0.0  0.3  2484488  23536 s002  S+    5:47AM\r\n0:02.19\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17254   0.0  0.3  2484364  23632 s002  S+    5:47AM\r\n0:02.22\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17253   0.0  0.3  2483384  23156 s002  S+    5:47AM\r\n0:02.13\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17252   0.0  0.3  2483308  22976 s002  S+    5:47AM\r\n0:02.14\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17251   0.0  0.3  2483540  22388 s002  S+    5:47AM\r\n0:02.03\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17250   0.0  0.3  2485200  23552 s002  S+    5:47AM\r\n0:01.99\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17249   0.0  0.3  2483724  23204 s002  S+    5:47AM\r\n0:02.10\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17248   0.0  0.3  2483208  22844 s002  S+    5:47AM\r\n0:02.05\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17247   0.0  0.3  2485184  23544 s002  S+    5:47AM\r\n0:02.14\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17246   0.0  0.3  2482832  22484 s002  S+    5:47AM\r\n0:02.07\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17245   0.0  0.3  2484992  23832 s002  S+    5:47AM\r\n0:02.13\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17244   0.0  0.3  2483156  22736 s002  S+    5:47AM\r\n0:02.10\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17243   0.0  0.3  2483764  23624 s002  S+    5:47AM\r\n0:02.19\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17242   0.0  0.3  2482384  22040 s002  R+    5:47AM\r\n0:02.11\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17240   0.0  0.3  2483912  23560 s002  S+    5:47AM\r\n0:02.14\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17233   0.0  0.3  2482232  22184 s002  S+    5:47AM\r\n0:02.37\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17231   0.0  0.3  2486456  25024 s002  S+    5:47AM\r\n0:02.42\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17230   0.0  0.3  2483976  22632 s002  S+    5:47AM\r\n0:02.34\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17229   0.0  0.3  2483604  23284 s002  S+    5:47AM\r\n0:02.33\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17227   0.0  0.3  2482908  22976 s002  S+    5:47AM\r\n0:02.30\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\npzol            17226   0.0  0.3  2483408  24028 s002  S+    5:47AM\r\n0:02.42\r\n/usr/local/Cellar/python/2.7.8_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python\r\n/usr/local/bin/rethinkdb-import --table hotelshop.ari --force -f batch.json\r\n--clients 64\r\n\10140  resfinity_rate_demon git:(master) \10007\r\n```\r\n\r\nOn Tue, Dec 2, 2014 at 10:53 PM, Daniel Mewes <notifications@github.com>\r\nwrote:\r\n\r\n> I can reproduce similar insert speeds, but *only* if I use a rotational\r\n> disk. I'm getting insert rates closer to 10,000 inserts/s on SSDs.\r\n> @pzol <https://github.com/pzol> I think you are on an SSD? Do you know\r\n> which model of SSD it is?\r\n>\r\n> Something else you could try is running RethinkDB with the --no-direct-io\r\n> flag in addition to the increased cache size. On some drives that can\r\n> improve write throughput a bit.\r\n> However there's probably a deeper underlying problem that makes this so\r\n> slow on your machine.\r\n>\r\n> Can you check the CPU utilization while the import is running (e.g.\r\n> through htop / sudo htop on OS X), and also check the disk bandwidth used\r\n> (on Linux: iostat -d 2 -m, not sure about OS X)?\r\n>\r\n> In my test, the table count afterwards took 1.2s. But I was using a very\r\n> beefy machine with 12 cores. So I could imagine it taking in the range of\r\n> 10s on a notebook CPU. We might be able to improve that through #3384\r\n> <https://github.com/rethinkdb/rethinkdb/issues/3384> .\r\n> @pzol <https://github.com/pzol> did you get a achance to try the count\r\n> after bumping up the cache size to 2 GB? Is it still slow?\r\n>\r\n> \8212\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/rethinkdb/rethinkdb/issues/3380#issuecomment-65311902>\r\n> .\r\n>\r\n\r\n\r\n\r\n-- \r\n\r\nPiotr Zolnierek"
  , issueCommentId = 65357635
  }