IssueComment
  { issueCommentUpdatedAt = 2015 (-12) (-17) 15 : 57 : 37 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 1793187
        , simpleUserLogin = N "r-marques"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1793187?v=3"
        , simpleUserUrl = "https://api.github.com/users/r-marques"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/165493221"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/5218#issuecomment-165493221"
  , issueCommentCreatedAt = 2015 (-12) (-17) 15 : 57 : 37 UTC
  , issueCommentBody =
      "If this help I ran two queries on the data explorer with query profiler enabled\r\n\r\n```javascript\r\nr.db('test').table('backlog', {readMode: 'outdated'}).orderBy({index: r.asc('transaction_timestamp')}).filter(r.row('assignee').eq('3049301306072a8648ce3d020106082a8648ce3d03010103320004d2a7cb1a2cfce083aa344f802aa484ebdc363f0e091a97a17dce61caa0e2e4909409d0f181748ea3c425ab73ec2a0a60'))\r\n```\r\n\r\n- **round-trip time:** 8.53s\r\n- **server time:** 7.65s\r\n- **shard accesses:** 8 \r\n\r\n```javascript\r\n[\r\n  {\r\n    \"description\": \"Evaluating filter.\",\r\n    \"duration(ms)\": 0.034745,\r\n    \"sub_tasks\": [\r\n      {\r\n        \"description\": \"Evaluating orderby.\",\r\n        \"duration(ms)\": 0.023567,\r\n        \"sub_tasks\": [\r\n          {\r\n            \"description\": \"Evaluating table.\",\r\n            \"duration(ms)\": 0.015709,\r\n            \"sub_tasks\": [\r\n              {\r\n                \"description\": \"Evaluating db.\",\r\n                \"duration(ms)\": 0.00654,\r\n                \"sub_tasks\": [\r\n                  {\r\n                    \"description\": \"Evaluating datum.\",\r\n                    \"duration(ms)\": 0.000875,\r\n                    \"sub_tasks\": []\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"description\": \"Evaluating datum.\",\r\n                \"duration(ms)\": 0.000391,\r\n                \"sub_tasks\": []\r\n              },\r\n              {\r\n                \"description\": \"Evaluating datum.\",\r\n                \"duration(ms)\": 0.000312,\r\n                \"sub_tasks\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"description\": \"Evaluating asc.\",\r\n            \"duration(ms)\": 0.001383,\r\n            \"sub_tasks\": [\r\n              {\r\n                \"description\": \"Evaluating datum.\",\r\n                \"duration(ms)\": 0.00037,\r\n                \"sub_tasks\": []\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"description\": \"Evaluating func.\",\r\n        \"duration(ms)\": 0.000849,\r\n        \"sub_tasks\": []\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"description\": \"Perform outdated read.\",\r\n    \"duration(ms)\": 7647.941969,\r\n    \"sub_tasks\": [\r\n      {\r\n        \"parallel_tasks\": [\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7392.758072,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7392.68523,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7512.005725,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7511.932456,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7505.195311,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7505.108751,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7637.617588,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7637.556815,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7438.386433,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7438.299642,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7525.022963,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7524.945655,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7529.833456,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7529.754781,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 7641.074482,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 7640.964339,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\n```javascript\r\nr.db('test').table('backlog', {readMode: 'outdated'}).orderBy({index: r.asc('transaction_timestamp')})\r\n```\r\n\r\n- **round-trip time:** 123ms\r\n- **server time:** 5ms\r\n- **shard accesses:** 8 \r\n\r\n```javascript\r\n[\r\n  {\r\n    \"description\": \"Evaluating orderby.\",\r\n    \"duration(ms)\": 0.033781,\r\n    \"sub_tasks\": [\r\n      {\r\n        \"description\": \"Evaluating table.\",\r\n        \"duration(ms)\": 0.022173,\r\n        \"sub_tasks\": [\r\n          {\r\n            \"description\": \"Evaluating db.\",\r\n            \"duration(ms)\": 0.01001,\r\n            \"sub_tasks\": [\r\n              {\r\n                \"description\": \"Evaluating datum.\",\r\n                \"duration(ms)\": 0.000855,\r\n                \"sub_tasks\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"description\": \"Evaluating datum.\",\r\n            \"duration(ms)\": 0.000388,\r\n            \"sub_tasks\": []\r\n          },\r\n          {\r\n            \"description\": \"Evaluating datum.\",\r\n            \"duration(ms)\": 0.000751,\r\n            \"sub_tasks\": []\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"description\": \"Evaluating asc.\",\r\n        \"duration(ms)\": 0.001632,\r\n        \"sub_tasks\": [\r\n          {\r\n            \"description\": \"Evaluating datum.\",\r\n            \"duration(ms)\": 0.000379,\r\n            \"sub_tasks\": []\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"description\": \"Perform outdated read.\",\r\n    \"duration(ms)\": 4.768554,\r\n    \"sub_tasks\": [\r\n      {\r\n        \"parallel_tasks\": [\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 0.969563,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 0.913066,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 0.971598,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 0.912118,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 1.692661,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 1.612228,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 0.961571,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 0.90752,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 1.760374,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 1.6716,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 0.965198,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 0.915051,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 1.660762,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 1.582794,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          [\r\n            {\r\n              \"description\": \"Perform read on shard.\",\r\n              \"duration(ms)\": 1.832201,\r\n              \"sub_tasks\": [\r\n                {\r\n                  \"description\": \"Do range scan on secondary index.\",\r\n                  \"duration(ms)\": 1.719697,\r\n                  \"sub_tasks\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nThe filtering is taking a long time. Right now my solution is to change my code and do the filtering in the client side.\r\n"
  , issueCommentId = 165493221
  }