IssueComment
  { issueCommentUpdatedAt = 2015 (-01) (-08) 03 : 06 : 05 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/69129819"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3525#issuecomment-69129819"
  , issueCommentCreatedAt = 2015 (-01) (-08) 03 : 06 : 05 UTC
  , issueCommentBody =
      "Running in debug mode reveals the possible source of this:\r\n```\r\nerror: Error in ./src/containers/scoped.hpp at line 102:\r\nerror: Assertion failed: [ptr_] \r\nerror: Backtrace:\r\nerror: Backtrace:\r\nerror: Wed Jan  7 19:04:42 2015\r\n       \r\n       1: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:100\r\n       2: backtrace_t::backtrace_t() at backtrace.cc:203\r\n       3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:283\r\n       4: format_backtrace(bool) at backtrace.cc:198\r\n       5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83\r\n       6: scoped_ptr_t<serializer_t>::operator->() const at scoped.hpp:102\r\n       7: stores_lifetimer_t::is_gc_active() const at reactor_driver.hpp:68\r\n       8: watchable_and_reactor_t::is_gc_active() const at reactor_driver.cc:292\r\n       9: reactor_driver_t::is_gc_active() const at reactor_driver.cc:433\r\n       10: jobs_manager_t::on_get_job_reports(signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)> const&) at manager.cc:97\r\n       11: std::_Mem_fn<void (jobs_manager_t::*)(signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)> const&)>::operator()(jobs_manager_t*, signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)> const&) const at functional:550\r\n       12: _ZNSt5_BindIFSt7_Mem_fnIM14jobs_manager_tFvP8signal_tRK14mailbox_addr_tIFvSt6vectorI12job_report_tSaIS6_EEEEEEPS1_St12_PlaceholderILi1EESH_ILi2EEEE6__callIvJOS3_OSA_EJLi0ELi1ELi2EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x9d at functional:1145\r\n       13: _ZNSt5_BindIFSt7_Mem_fnIM14jobs_manager_tFvP8signal_tRK14mailbox_addr_tIFvSt6vectorI12job_report_tSaIS6_EEEEEEPS1_St12_PlaceholderILi1EESH_ILi2EEEEclIJS3_SA_EvEET0_DpOT_+0x5e at functional:1203\r\n       14: std::_Function_handler<void (signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)>), std::_Bind<std::_Mem_fn<void (jobs_manager_t::*)(signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)> const&)> (jobs_manager_t*, std::_Placeholder<1>, std::_Placeholder<2>)> >::_M_invoke(std::_Any_data const&, signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)>) at functional:1779\r\n       15: std::function<void (signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)>)>::operator()(signal_t*, mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)>) const at functional:2160\r\n       16: mailbox_t<void (mailbox_addr_t<void (std::vector<job_report_t, std::allocator<job_report_t> >)>)>::read_impl_t::read(read_stream_t*, signal_t*) at typed.hpp:157\r\n       17: mailbox_manager_t::mailbox_read_coroutine(connectivity_cluster_t::connection_t*, auto_drainer_t::lock_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long, mailbox_manager_t::force_yield_t) at mailbox.cc:270\r\n       18: ./rethinkdb() [0x157ffef] at 0x157ffef ()\r\n       19: ./rethinkdb() [0x157fedc] at 0x157fedc ()\r\n       20: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       21: coro_t::run() at coroutines.cc:197\r\n       22: ./rethinkdb() [0x157f7bd] at 0x157f7bd ()\r\n       23: mailbox_manager_t::on_message(connectivity_cluster_t::connection_t*, auto_drainer_t::lock_t, read_stream_t*) at mailbox.cc:232\r\n       24: connectivity_cluster_t::run_t::handle(keepalive_tcp_conn_stream_t*, boost::optional<peer_id_t>, boost::optional<peer_address_t>, auto_drainer_t::lock_t, bool*) at cluster.cc:1128\r\n       25: connectivity_cluster_t::run_t::connect_to_peer(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*) at cluster.cc:325\r\n       26: std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)>::operator()(connectivity_cluster_t::run_t*, peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*) const at functional:550\r\n       27: _ZNKSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFvPK14peer_address_tiN5boost8optionalI9peer_id_tEEN14auto_drainer_t6lock_tEPbP14co_semaphore_tEEPS2_S5_St12_PlaceholderILi1EES9_SB_SC_P18static_semaphore_tEE8__call_cIvJRlEJLi0ELi1ELi2ELi3ELi4ELi5ELi6EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x1db at functional:1154\r\n       28: _ZNKSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFvPK14peer_address_tiN5boost8optionalI9peer_id_tEEN14auto_drainer_t6lock_tEPbP14co_semaphore_tEEPS2_S5_St12_PlaceholderILi1EES9_SB_SC_P18static_semaphore_tEEclIJRlEvEET0_DpOT_+0x3d at functional:1217\r\n       29: pmap_runner_one_arg_t<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)>, long>::operator()() at pmap.hpp:21\r\n       30: callable_action_instance_t<pmap_runner_one_arg_t<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)>, long> >::run_action() at callable_action.hpp:31\r\n       31: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       32: coro_t::run() at coroutines.cc:197\r\n       33: void coro_t::spawn_now_dangerously<pmap_runner_one_arg_t<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)>, long> >(pmap_runner_one_arg_t<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)>, long>&&) at coroutines.hpp:52\r\n       34: void pmap<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)> >(long, long, std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)> const&) at pmap.hpp:44\r\n       35: void pmap<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)> >(long, std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t const*, int, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, co_semaphore_t*)> (connectivity_cluster_t::run_t*, peer_address_t const*, std::_Placeholder<1>, boost::optional<peer_id_t>, auto_drainer_t::lock_t, bool*, static_semaphore_t*)> const&) at pmap.hpp:54\r\n       36: connectivity_cluster_t::run_t::join_blocking(peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t) at cluster.cc:361\r\n       37: std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t)>::operator()(connectivity_cluster_t::run_t*, peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t) const at functional:550\r\n       38: _ZNSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFv14peer_address_tN5boost8optionalI9peer_id_tEEN14auto_drainer_t6lock_tEEEPS2_S3_MNS4_6detail11none_helperEiS9_EE6__callIvJEJLi0ELi1ELi2ELi3EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x159 at functional:1145\r\n       39: _ZNSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFv14peer_address_tN5boost8optionalI9peer_id_tEEN14auto_drainer_t6lock_tEEEPS2_S3_MNS4_6detail11none_helperEiS9_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       40: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t)> (connectivity_cluster_t::run_t*, peer_address_t, int boost::detail::none_helper::*, auto_drainer_t::lock_t)> >::run_action() at callable_action.hpp:31\r\n       41: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       42: coro_t::run() at coroutines.cc:197\r\n       43: void coro_t::spawn_now_dangerously<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t)> (connectivity_cluster_t::run_t*, peer_address_t, int boost::detail::none_helper::*, auto_drainer_t::lock_t)> >(std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(peer_address_t, boost::optional<peer_id_t>, auto_drainer_t::lock_t)> (connectivity_cluster_t::run_t*, peer_address_t, int boost::detail::none_helper::*, auto_drainer_t::lock_t)>&&) at coroutines.hpp:52\r\n       44: connectivity_cluster_t::run_t::join(peer_address_t const&) at cluster.cc:268\r\n       45: initial_joiner_t::main_coro(connectivity_cluster_t::run_t*, auto_drainer_t::lock_t) at initial_join.cc:107\r\n       46: boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>::operator()(initial_joiner_t*, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t) const at mem_fn_template.hpp:280\r\n       47: void boost::_bi::list3<boost::_bi::value<initial_joiner_t*>, boost::_bi::value<connectivity_cluster_t::run_t*>, boost::_bi::value<auto_drainer_t::lock_t> >::operator()<boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>, boost::_bi::list0>(boost::_bi::type<void>, boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>&, boost::_bi::list0&, int) at bind.hpp:392\r\n       48: boost::_bi::bind_t<void, boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<initial_joiner_t*>, boost::_bi::value<connectivity_cluster_t::run_t*>, boost::_bi::value<auto_drainer_t::lock_t> > >::operator()() at bind_template.hpp:20\r\n       49: callable_action_instance_t<boost::_bi::bind_t<void, boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<initial_joiner_t*>, boost::_bi::value<connectivity_cluster_t::run_t*>, boost::_bi::value<auto_drainer_t::lock_t> > > >::run_action() at callable_action.hpp:31\r\n       50: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       51: coro_t::run() at coroutines.cc:197\r\n       52: coro_t* coro_t::spawn_sometime<boost::_bi::bind_t<void, boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<initial_joiner_t*>, boost::_bi::value<connectivity_cluster_t::run_t*>, boost::_bi::value<auto_drainer_t::lock_t> > > >(boost::_bi::bind_t<void, boost::_mfi::mf2<void, initial_joiner_t, connectivity_cluster_t::run_t*, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<initial_joiner_t*>, boost::_bi::value<connectivity_cluster_t::run_t*>, boost::_bi::value<auto_drainer_t::lock_t> > >&&) at coroutines.hpp:58\r\n       53: initial_joiner_t::initial_joiner_t(connectivity_cluster_t*, connectivity_cluster_t::run_t*, peer_address_set_t const&, int) at initial_join.cc:87\r\n       54: do_serve(io_backender_t*, bool, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, serve_info_t const&, os_signal_cond_t*) at serve.cc:281\r\n       55: serve(io_backender_t*, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, serve_info_t const&, os_signal_cond_t*) at serve.cc:527\r\n       56: run_rethinkdb_serve(base_path_t const&, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, uuid_u const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:795\r\n       57: run_rethinkdb_porcelain(base_path_t const&, name_string_t const&, std::set<name_string_t, std::less<name_string_t>, std::allocator<name_string_t> > const&, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, bool, serve_info_t*, directory_lock_t*, bool*) at command_line.cc:824\r\n       58: _ZNSt5_BindIFPFvRK11base_path_tRK13name_string_tRKSt3setIS3_St4lessIS3_ESaIS3_EE21file_direct_io_mode_tiRKN5boost8optionalINSF_ImEEEEbP12serve_info_tP16directory_lock_tPbES0_S3_SA_SD_iSH_bSL_SN_SO_EE6__callIvJEJLi0ELi1ELi2ELi3ELi4ELi5ELi6ELi7ELi8ELi9EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x262 at functional:1145\r\n       59: _ZNSt5_BindIFPFvRK11base_path_tRK13name_string_tRKSt3setIS3_St4lessIS3_ESaIS3_EE21file_direct_io_mode_tiRKN5boost8optionalINSF_ImEEEEbP12serve_info_tP16directory_lock_tPbES0_S3_SA_SD_iSH_bSL_SN_SO_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       60: std::_Function_handler<void (), std::_Bind<void (*(base_path_t, name_string_t, std::set<name_string_t, std::less<name_string_t>, std::allocator<name_string_t> >, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> >, bool, serve_info_t*, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, std::set<name_string_t, std::less<name_string_t>, std::allocator<name_string_t> > const&, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, bool, serve_info_t*, directory_lock_t*, bool*)> >::_M_invoke(std::_Any_data const&) at functional:1779\r\n       61: std::function<void ()>::operator()() const at functional:2160\r\n       62: starter_t::run_wrapper(std::function<void ()> const&) at runtime.cc:61\r\n       63: std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)>::operator()(starter_t*, std::function<void ()> const&) const at functional:550\r\n       64: _ZNSt5_BindIFSt7_Mem_fnIM9starter_tFvRKSt8functionIFvvEEEEPS1_S4_EE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x70 at functional:1145\r\n       65: _ZNSt5_BindIFSt7_Mem_fnIM9starter_tFvRKSt8functionIFvvEEEEPS1_S4_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       66: std::_Function_handler<void (), std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)> >::_M_invoke(std::_Any_data const&) at functional:1779\r\n       67: std::function<void ()>::operator()() const at functional:2160\r\n       68: callable_action_instance_t<std::function<void ()>&>::run_action() at callable_action.hpp:31\r\n       69: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       70: coro_t::run() at coroutines.cc:197\r\n       71: coro_t* coro_t::spawn_sometime<std::function<void ()>&>(std::function<void ()>&&&) at coroutines.hpp:58\r\n       72: starter_t::on_thread_switch() at runtime.cc:57\r\n       73: linux_message_hub_t::on_event(int) at message_hub.cc:154\r\n       74: epoll_event_queue_t::run() at epoll.cc:115\r\n       75: linux_thread_pool_t::start_thread(void*) at thread_pool.cc:155\r\n       76: /lib/x86_64-linux-gnu/libpthread.so.0(+0x7e9a) [0x7fabae4b2e9a] at 0x7fabae4b2e9a (/lib/x86_64-linux-gnu/libpthread.so.0)\r\n       77: clone+0x6d at 0x7fabae1e02ed (/lib/x86_64-linux-gnu/libc.so.6)\r\nerror: Exiting.\r\n```\r\n\r\nI'm seeing one of these on each server"
  , issueCommentId = 69129819
  }