IssueComment
  { issueCommentUpdatedAt = 2015 (-08) (-17) 02 : 36 : 40 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 1276278
        , simpleUserLogin = N "williamstein"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1276278?v=3"
        , simpleUserUrl = "https://api.github.com/users/williamstein"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/131660711"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/4678#issuecomment-131660711"
  , issueCommentCreatedAt = 2015 (-08) (-17) 02 : 36 : 40 UTC
  , issueCommentBody =
      "Bad news.  I actually tried to switch to 2.1 in production, using the binary that you sent me in email, and with the \"killfeed\" related issue above fixed.  It was a disaster.  Again, 99% cpu load on all machines.  Also, I saw \"SANITY CHECK FAILED\" stuff like this in my log:\r\n\r\n```\r\n2015-08-17T02:32:18.997Z - debug: FEED 64523879-a9e4-40a7-a143-829a543475fa -- saw a change! [{\"message\":\"SANITY CHECK FAILED: [batch.s\r\nize() != 0 || (parent->coro_env->return_empty_normal_batches == return_empty_normal_batches_t::YES) || (bs.get_batch_type() == batch_ty\r\npe_t::NORMAL_FIRST)] at `src/rdb_protocol/datum_stream.cc:1286` (server is buggy).  Backtrace:\\nMon Aug 17 02:32:18 2015\\n\\n1: backtrac\r\ne_t::backtrace_t() at 0xa4aa10 (/usr/bin/rethinkdb)\\n2: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at 0xa4ad0e (/usr/bin/\r\nrethinkdb)\\n3: ql::runtime_sanity_check_failed(char const*, int, char const*, std::string const&) at 0x789716 (/usr/bin/rethinkdb)\\n4:\r\nql::coro_stream_t::cb(auto_drainer_t::lock_t) at 0x7cdd37 (/usr/bin/rethinkdb)\\n5: callable_action_instance_t<ql::coro_stream_t::maybe_\r\nlaunch_read()::{lambda()#2}>::run_action() at 0x7ce100 (/usr/bin/rethinkdb)\\n6: coro_t::run() at 0x954178 (/usr/bin/rethinkdb)\\n in:\\nr\r\n.db(\\\"smc\\\").table(\\\"accounts\\\").getAll(\\\"45a74e89-3165-43b1-a25f-08f97466159e\\\", \\\"25e2cae4-05c7-4c28-ae22-1e6d3d2e8bb5\\\", \\\"3fcf140d-\r\nb4c1-4eab-a80e-c3f8dd980a0d\\\", \\\"7676bc45-5623-4a5a-84f3-c042ef361edd\\\", \\\"79c4b5b1-1348-424d-804c-89200606ea16\\\", \\\"91dcf4bc-5b4a-4ade\r\n-b1cb-26ae581f77d0\\\", \\\"f4cf9216-765b-4638-9811-5f834bd552fc\\\")\\n^^^^\r\n```\r\n\r\nI'm not sure what to do at this point.  Rethink 2.0.4 works very well.  2.1 seems seriously broken.  Maybe I should wait for 2.2. "
  , issueCommentId = 131660711
  }