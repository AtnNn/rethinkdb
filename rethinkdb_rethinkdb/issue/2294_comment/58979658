IssueComment
  { issueCommentUpdatedAt = 2014 (-10) (-14) 01 : 45 : 50 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/58979658"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2294#issuecomment-58979658"
  , issueCommentCreatedAt = 2014 (-10) (-14) 01 : 45 : 50 UTC
  , issueCommentBody =
      "Looking at the TCMalloc source code:\r\n```\r\n// Compute how long to wait until we return memory.\r\n// FLAGS_tcmalloc_release_rate==1 means wait for 1000 pages\r\n// after releasing one page.\r\n```\r\n\r\nFrom very quickly skimming the code for where the function that contains that comment is being called from, I believe you have to allocate and free another 1000 pages before TCMalloc considers releasing something to the OS. That explains why you have to put additional activity on the server before any memory gets freed.\r\n\r\nWe can influence the behavior of TCMalloc by setting some flags. I'll investigate which values work best."
  , issueCommentId = 58979658
  }