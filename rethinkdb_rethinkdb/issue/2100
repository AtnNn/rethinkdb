Issue
  { issueClosedAt = Just 2014 (-03) (-17) 23 : 51 : 43 UTC
  , issueUpdatedAt = 2014 (-03) (-17) 23 : 51 : 43 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2100/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/2100"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e10c02"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/pr:high"
          , labelName = "pr:high"
          }
      , IssueLabel
          { labelColor = "e102d8"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:bug"
          , labelName = "tp:bug"
          }
      ]
  , issueNumber = 2100
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 258437
          , simpleUserLogin = N "srh"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/258437?v=3"
          , simpleUserUrl = "https://api.github.com/users/srh"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 1461947
        , simpleUserLogin = N "neumino"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1461947?v=3"
        , simpleUserUrl = "https://api.github.com/users/neumino"
        , simpleUserType = OwnerUser
        }
  , issueTitle =
      "Assertion failed: [value <= size_] value = 4096, size_ = 0"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2100"
  , issueCreatedAt = 2014 (-03) (-14) 23 : 20 : 06 UTC
  , issueBody =
      Just
        "On `next`, commit 3244e97f5aa21b0175bcc554af6a45eeed6f8caa\r\n\r\n- Start a cluster of 2 servers\r\n- Create a table with 1 million documents\r\n- Create an index\r\n- Set 2 replicas, 2 acks without waiting for the index to be built\r\n- Create 2 shards without waiting for the index to be built or the replicas to be ready\r\n- Ctrl+C `spin_up_cluster`\r\n\r\nRestart the servers with `spin_up_clusters`. I got this error\r\n```\r\nmichel@h9:~/projects/rethinkdb-all/rethinkdb/scripts$ ./spin_up_cluster 14920 2 --keep\r\n../build/debug/rethinkdb --directory cluster_directory_0 --machine-name Thalassa --port-offset 14920 --bind all\r\nDirectory 'cluster_directory_0' is already in use, perhaps another instance of rethinkdb is using it.\r\n../build/debug/rethinkdb --directory cluster_directory_1 --machine-name Tethys --port-offset 14921 --bind all --join h9:43935\r\nDirectory 'cluster_directory_1' is already in use, perhaps another instance of rethinkdb is using it.\r\nCTRL-C to kill me http requests can be sent to ports: 14921 , 14923 \r\ninfo: Storage engine shut down.\r\ninfo: Disconnected from server \"Demeter\" 3081f1e0-320b-42bb-967c-5827b29f64d8\r\ninfo: Disconnected from server \"Crius\" 223a2ba4-7741-4b6d-8bc9-aa8d5e3e7148\r\ninfo: Storage engine shut down.\r\n```\r\n\r\nI then tried again\r\n\r\n```\r\nmichel@h9:~/projects/rethinkdb-all/rethinkdb/scripts$ ./spin_up_cluster 14920 2 --keep\r\n../build/debug/rethinkdb --directory cluster_directory_0 --machine-name Dionysus --port-offset 14920 --bind all\r\ninfo: Running rethinkdb 1.11.3-2043-g3244e9 (debug) (GCC 4.8.2)...\r\ninfo: Running on Linux 3.13.5-1-ARCH x86_64\r\ninfo: Loading data from directory /home/michel/projects/rethinkdb-all/rethinkdb/scripts/cluster_directory_0\r\nVersion: rethinkdb 1.11.3-2043-g3244e9 (debug) (GCC 4.8.2)\r\nerror: Error in src/buffer_cache/alt/eviction_bag.cc at line 35:\r\nerror: Assertion failed: [value <= size_] value = 4096, size_ = 0\r\nerror: Backtrace:\r\nerror: Fri Mar 14 16:16:26 2014\r\n       \r\n       1: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:101\r\n       2: backtrace_t::backtrace_t() at backtrace.cc:202 (discriminator 1)\r\n       3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:282\r\n       4: format_backtrace(bool) at backtrace.cc:197\r\n       5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83 (discriminator 1)\r\n       6: alt::eviction_bag_t::remove(alt::page_t*, unsigned int) at eviction_bag.cc:34 (discriminator 1)\r\n       7: alt::evicter_t::change_to_correct_eviction_bag(alt::eviction_bag_t*, alt::page_t*) at evicter.cc:65\r\n       8: alt::page_t::add_waiter(alt::page_acq_t*, cache_account_t*) at page.cc:392\r\n       9: alt::page_acq_t::init(alt::page_t*, alt::page_cache_t*, cache_account_t*) at page.cc:510\r\n       10: buf_read_t::get_data_read(unsigned int*) at alt.cc:740\r\n       11: buf_read_t::get_data_read() at alt.hpp:323\r\n       12: metadata_persistence::cluster_persistent_file_t::persistent_branch_history_manager_t<mock::dummy_protocol_t>::persistent_branch_history_manager_t(metadata_persistence::cluster_persistent_file_t*, char (metadata_persistence::cluster_metadata_superblock_t::*) [500], bool) at persist.cc:321\r\n       13: metadata_persistence::cluster_persistent_file_t::construct_branch_history_managers(bool) at persist.cc:425 (discriminator 1)\r\n       14: metadata_persistence::cluster_persistent_file_t::cluster_persistent_file_t(io_backender_t*, serializer_filepath_t const&, perfmon_collection_t*) at persist.cc:222\r\n       15: run_rethinkdb_serve(base_path_t const&, serve_info_t const&, file_direct_io_mode_t, int, uuid_u const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:749 (discriminator 1)\r\n       16: run_rethinkdb_porcelain(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*) at command_line.cc:791\r\n       17: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::__call<void, , 0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>) at functional:1296\r\n       18: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::operator()<, void>() at functional:1355\r\n       19: std::_Function_handler<void (), std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)> >::_M_invoke(std::_Any_data const&) at functional:2073\r\n       20: std::function<void ()>::operator()() const at functional:2465\r\n       21: starter_t::run_wrapper(std::function<void ()> const&) at runtime.cc:61\r\n       22: void std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)>::operator()<std::function<void ()>&, void>(starter_t*, std::function<void ()>&) const at functional:601 (discriminator 3)\r\n       23: void std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)>::__call<void, , 0ul, 1ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul>) at functional:1296\r\n       24: void std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)>::operator()<, void>() at functional:1355\r\n       25: std::_Function_handler<void (), std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)> >::_M_invoke(std::_Any_data const&) at functional:2073\r\n       26: std::function<void ()>::operator()() const at functional:2465\r\n       27: callable_action_instance_t<std::function<void ()> >::run_action() at callable_action.hpp:28\r\n       28: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       29: coro_t::run() at coroutines.cc:199\r\n       30: coro_t* coro_t::spawn_sometime<std::function<void ()> >(std::function<void ()> const&) at coroutines.hpp:58\r\n       31: starter_t::on_thread_switch() at runtime.cc:57\r\n       32: linux_message_hub_t::on_event(int) at message_hub.cc:154\r\n       33: epoll_event_queue_t::run() at epoll.cc:101\r\n       34: linux_thread_pool_t::start_thread(void*) at thread_pool.cc:158\r\n       35: /usr/lib/libpthread.so.0(+0x80a2) [0x7f0ef1e620a2] at 0x7f0ef1e620a2 (/usr/lib/libpthread.so.0)\r\n       36: clone+0x6d at 0x7f0ef1b97d1d (/usr/lib/libc.so.6)\r\nerror: Exiting.\r\n../build/debug/rethinkdb --directory cluster_directory_1 --machine-name Selene --port-offset 14921 --bind all --join h9:43935\r\ninfo: Running rethinkdb 1.11.3-2043-g3244e9 (debug) (GCC 4.8.2)...\r\ninfo: Running on Linux 3.13.5-1-ARCH x86_64\r\ninfo: Loading data from directory /home/michel/projects/rethinkdb-all/rethinkdb/scripts/cluster_directory_1\r\nVersion: rethinkdb 1.11.3-2043-g3244e9 (debug) (GCC 4.8.2)\r\nerror: Error in src/buffer_cache/alt/eviction_bag.cc at line 35:\r\nerror: Assertion failed: [value <= size_] value = 4096, size_ = 0\r\nerror: Backtrace:\r\nerror: Fri Mar 14 16:16:28 2014\r\n       \r\n       1: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:101\r\n       2: backtrace_t::backtrace_t() at backtrace.cc:202 (discriminator 1)\r\n       3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:282\r\n       4: format_backtrace(bool) at backtrace.cc:197\r\n       5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83 (discriminator 1)\r\n       6: alt::eviction_bag_t::remove(alt::page_t*, unsigned int) at eviction_bag.cc:34 (discriminator 1)\r\n       7: alt::evicter_t::change_to_correct_eviction_bag(alt::eviction_bag_t*, alt::page_t*) at evicter.cc:65\r\n       8: alt::page_t::add_waiter(alt::page_acq_t*, cache_account_t*) at page.cc:392\r\n       9: alt::page_acq_t::init(alt::page_t*, alt::page_cache_t*, cache_account_t*) at page.cc:510\r\n       10: buf_read_t::get_data_read(unsigned int*) at alt.cc:740\r\n       11: buf_read_t::get_data_read() at alt.hpp:323\r\n       12: metadata_persistence::cluster_persistent_file_t::persistent_branch_history_manager_t<mock::dummy_protocol_t>::persistent_branch_history_manager_t(metadata_persistence::cluster_persistent_file_t*, char (metadata_persistence::cluster_metadata_superblock_t::*) [500], bool) at persist.cc:321\r\n       13: metadata_persistence::cluster_persistent_file_t::construct_branch_history_managers(bool) at persist.cc:425 (discriminator 1)\r\n       14: metadata_persistence::cluster_persistent_file_t::cluster_persistent_file_t(io_backender_t*, serializer_filepath_t const&, perfmon_collection_t*) at persist.cc:222\r\n       15: run_rethinkdb_serve(base_path_t const&, serve_info_t const&, file_direct_io_mode_t, int, uuid_u const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:749 (discriminator 1)\r\n       16: run_rethinkdb_porcelain(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*) at command_line.cc:791\r\n       17: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::__call<void, , 0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>) at functional:1296\r\n       18: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::operator()<, void>() at functional:1355\r\n       19: std::_Function_handler<void (), std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)> >::_M_invoke(std::_Any_data const&) at functional:2073\r\n       20: std::function<void ()>::operator()() const at functional:2465\r\n       21: starter_t::run_wrapper(std::function<void ()> const&) at runtime.cc:61\r\n       22: void std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)>::operator()<std::function<void ()>&, void>(starter_t*, std::function<void ()>&) const at functional:601 (discriminator 3)\r\n       23: void std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)>::__call<void, , 0ul, 1ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul>) at functional:1296\r\n       24: void std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)>::operator()<, void>() at functional:1355\r\n       25: std::_Function_handler<void (), std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)> >::_M_invoke(std::_Any_data const&) at functional:2073\r\n       26: std::function<void ()>::operator()() const at functional:2465\r\n       27: callable_action_instance_t<std::function<void ()> >::run_action() at callable_action.hpp:28\r\n       28: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       29: coro_t::run() at coroutines.cc:199\r\n       30: coro_t* coro_t::spawn_sometime<std::function<void ()> >(std::function<void ()> const&) at coroutines.hpp:58\r\n       31: starter_t::on_thread_switch() at runtime.cc:57\r\n       32: linux_message_hub_t::on_event(int) at message_hub.cc:154\r\n       33: epoll_event_queue_t::run() at epoll.cc:101\r\n       34: linux_thread_pool_t::start_thread(void*) at thread_pool.cc:158\r\n       35: /usr/lib/libpthread.so.0(+0x80a2) [0x7fd7fe5640a2] at 0x7fd7fe5640a2 (/usr/lib/libpthread.so.0)\r\n       36: clone+0x6d at 0x7fd7fe299d1d (/usr/lib/libc.so.6)\r\nerror: Exiting.\r\nCTRL-C to kill me http requests can be sent to ports: 14921 , 14923 \r\n```"
  , issueState = "closed"
  , issueId = Id 29478634
  , issueComments = 7
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2014 (-03) (-13) 07 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 53
          , milestoneClosedIssues = 203
          , milestoneDescription = Just ""
          , milestoneTitle = "1.12"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/53"
          , milestoneCreatedAt = 2013 (-11) (-19) 09 : 47 : 10 UTC
          , milestoneState = "closed"
          }
  }