Issue
  { issueClosedAt = Just 2016 (-02) (-08) 18 : 35 : 32 UTC
  , issueUpdatedAt = 2016 (-02) (-16) 03 : 29 : 59 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5280/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/5280"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e10c02"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/pr:high"
          , labelName = "pr:high"
          }
      , IssueLabel
          { labelColor = "444444"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:performance"
          , labelName = "tp:performance"
          }
      ]
  , issueNumber = 5280
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 952451
          , simpleUserLogin = N "nighelles"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/952451?v=3"
          , simpleUserUrl = "https://api.github.com/users/nighelles"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 1793187
        , simpleUserLogin = N "r-marques"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1793187?v=3"
        , simpleUserUrl = "https://api.github.com/users/r-marques"
        , simpleUserType = OwnerUser
        }
  , issueTitle =
      "Nodes in the cluster disconnecting when running query"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5280"
  , issueCreatedAt = 2016 (-01) (-12) 08 : 11 : 17 UTC
  , issueBody =
      Just
        "##### Setup\n- 12 node cluster in ec2 m3.2xlarge (8 cores, 30GiB memory, ssd storage)\n- table with 5 million documents, 12 shards , and 1 replicas\n- python 3.4.3\n- driver rethinkdb 2.2.0.post1\n##### Example document\n\n``` javascript\n{\n\n    \"assignee\": \"3049301306072a8648ce3d020106082a8648ce3d030101033200045a86875b2ac478d153dfff03c0ff41a7fd0e9a19a7a02e3e6b8693e979393dbbb329969e0f1fb058dbad655262f65a77\" ,\n    \"id\": \"cdfb20ec2991226a567b37dd9a99259cd18ffe735a095d91ebb768084cb243fe\" ,\n    \"signature\": \"303502187f06fb907a8c86d95b8f2bcb352d03eeb0d3301a139f54e7021900830ac501a050de370353b29aed0593dca21f189e9c960933\" ,\n    \"transaction\": {\n        \"current_owner\": \"3049301306072a8648ce3d020106082a8648ce3d03010103320004e160db58228809222568e77439ac6c3530b8ce1d9b49c58cf175439df7adaf364af2145e4ab3f3e3173b7cfe55ce87d4\" ,\n        \"data\": {\n            \"hash\": \"4e03657aea45a94fc7d47ba826c8d667c0d1e6e33a64a036ec44f58fa12d6c45\"\n        } ,\n        \"input\": null ,\n        \"new_owner\": \"3049301306072a8648ce3d020106082a8648ce3d0301010332000475c70719081277fe5271075069ee5a5d509d1cef95afa1b32161dc28bcefc82c3e34ffa278ad7357d00946a6ba6f56d0\" ,\n        \"operation\": \"CREATE\" ,\n        \"timestamp\": \"1450277322.428634\"\n    }\n\n}\n```\n##### Secondary Index\n\n``` python\nr..table('backlog')\\\n        .index_create(\"assignee__transaction_timestamp\", [r.row[\"assignee\"], r.row[\"transaction\"][\"timestamp\"]])\\\n        .run()\n```\n##### Query\n\n``` python\ncursor = r.table('backlog')\\\n            .between([b.me, r.minval], [b.me, r.maxval], index='assignee__transaction_timestamp')\\\n            .order_by(index=r.asc('assignee__transaction_timestamp'))\\\n            .run(b.conn)\n```\n\nWhen running this query some nodes in the cluster get disconnected.\nBoth `assignee` and `timestamp` are strings and have always the same length.\nThis query returns around 350k documents.\n\nLooking at the logs the only error messages I see are `Heartbeat timeout`\n\n``` bash\n2016-01-08T10:21:36.636116610 268443.333925s error: Heartbeat timeout, killing connection to peer [::ffff:172.31.29.224]:40390\n2016-01-09T13:04:49.253478030 364635.951287s error: Heartbeat timeout, killing connection to peer 172.31.30.149:29015\n2016-01-11T10:39:26.090469596 528712.788278s error: Heartbeat timeout, killing connection to peer 172.31.25.145:29015\n2016-01-11T10:39:49.998998159 528736.696806s error: Heartbeat timeout, killing connection to peer [::ffff:172.31.25.59]:45783\n```\n\nThis may be related to #5279 although I don't see a high utilization of io or RAM when running the query.\n"
  , issueState = "closed"
  , issueId = Id 126122625
  , issueComments = 20
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 505365
                , simpleUserLogin = N "danielmewes"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/505365?v=3"
                , simpleUserUrl = "https://api.github.com/users/danielmewes"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2016 (-02) (-19) 08 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 117
          , milestoneClosedIssues = 18
          , milestoneDescription = Just ""
          , milestoneTitle = "2.2.5"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/117"
          , milestoneCreatedAt = 2016 (-02) (-16) 03 : 29 : 45 UTC
          , milestoneState = "closed"
          }
  }