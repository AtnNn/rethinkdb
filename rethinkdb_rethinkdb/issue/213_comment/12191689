IssueComment
  { issueCommentUpdatedAt = 2013 (-01) (-13) 09 : 59 : 26 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 36466
        , simpleUserLogin = N "charl"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/36466?v=3"
        , simpleUserUrl = "https://api.github.com/users/charl"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/12191689"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/213#issuecomment-12191689"
  , issueCommentCreatedAt = 2013 (-01) (-13) 09 : 59 : 26 UTC
  , issueCommentBody =
      "```ruby\r\nr([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"abc\\\")\")}.run\r\n```\r\n\r\nGive me:\r\n\r\n```ruby\r\njruby-1.7.0 :034 > r([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"abc\\\")\")}.run\r\nRuntimeError: RQL: failed to evaluate javascript: calling function failed:\r\nUncaught SyntaxError: Illegal return statement\r\nLine: (irb):34:in `evaluate'\r\nQuery: [{:id=>0, :iso_language_code=>\"abc\"}, {:id=>1, :iso_language_code=>\"def\"}].filter(\"_var_1016\", js(\"return !!this.iso_language_code.match(\\\"abc\\\")\"))\r\n                                                                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:119:in `error'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:150:in `token_iter'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:125:in `token_iter'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:211:in `run'\r\n\tfrom org/jruby/RubyBasicObject.java:1673:in `__send__'\r\n\tfrom org/jruby/RubyKernel.java:2081:in `send'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/query.rb:14:in `run'\r\n\tfrom (irb):34:in `evaluate'\r\n\tfrom org/jruby/RubyKernel.java:1065:in `eval'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom /home/charl/.rvm/rubies/jruby-1.7.0/bin/irb:13:in `(root)'\r\n```\r\n\r\n```ruby\r\nr([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"de\\\")\")}.run\r\n```\r\n\r\nGives me:\r\n\r\n```ruby\r\njruby-1.7.0 :039 >   r([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"de\\\")\")}.run\r\nRuntimeError: RQL: failed to evaluate javascript: calling function failed:\r\nUncaught SyntaxError: Illegal return statement\r\nLine: (irb):39:in `evaluate'\r\nQuery: [{:id=>0, :iso_language_code=>\"abc\"}, {:id=>1, :iso_language_code=>\"def\"}].filter(\"_var_1017\", js(\"return !!this.iso_language_code.match(\\\"de\\\")\"))\r\n                                                                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:119:in `error'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:150:in `token_iter'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:125:in `token_iter'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:211:in `run'\r\n\tfrom org/jruby/RubyBasicObject.java:1673:in `__send__'\r\n\tfrom org/jruby/RubyKernel.java:2081:in `send'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/query.rb:14:in `run'\r\n\tfrom (irb):39:in `evaluate'\r\n\tfrom org/jruby/RubyKernel.java:1065:in `eval'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom /home/charl/.rvm/rubies/jruby-1.7.0/bin/irb:13:in `(root)'\r\n```\r\n\r\n```ruby\r\nr([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"\\\")\")}.run\r\n```\r\n\r\nGives me:\r\n\r\n```ruby\r\njruby-1.7.0 :040 > r([{:id => 0, :iso_language_code => \"abc\"}, {:id => 1, :iso_language_code => \"def\"}]).filter{r.js(\"!!this.iso_language_code.match(\\\"\\\")\")}.run\r\nRuntimeError: RQL: failed to evaluate javascript: calling function failed:\r\nUncaught SyntaxError: Illegal return statement\r\nLine: (irb):40:in `evaluate'\r\nQuery: [{:id=>0, :iso_language_code=>\"abc\"}, {:id=>1, :iso_language_code=>\"def\"}].filter(\"_var_1018\", js(\"return !!this.iso_language_code.match(\\\"\\\")\"))\r\n                                                                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:119:in `error'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:150:in `token_iter'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:125:in `token_iter'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/net.rb:211:in `run'\r\n\tfrom org/jruby/RubyBasicObject.java:1673:in `__send__'\r\n\tfrom org/jruby/RubyKernel.java:2081:in `send'\r\n\tfrom /home/charl/.rvm/gems/jruby-1.7.0@thoth/gems/rethinkdb-1.2.6.0/lib/query.rb:14:in `run'\r\n\tfrom (irb):40:in `evaluate'\r\n\tfrom org/jruby/RubyKernel.java:1065:in `eval'\r\n\tfrom org/jruby/RubyKernel.java:1390:in `loop'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom org/jruby/RubyKernel.java:1173:in `catch'\r\n\tfrom /home/charl/.rvm/rubies/jruby-1.7.0/bin/irb:13:in `(root)'\r\n```\r\n\r\n```ruby\r\nr.expr([286093203667562500, 286825656715730940]).map {|id| r.table(table).get(id)}.run\r\n```\r\n\r\nGives me:\r\n\r\n```ruby\r\njruby-1.7.0 :043 >   r.expr([286093203667562500, 286825656715730940]).map {|id| r.table(table).get(id)}.run\r\n => [{\"created_at\"=>\"Tue, 01 Jan 2013 12:55:09 +0000\", \"entities\"=>{\"hashtags\"=>[{\"text\"=>\"Clojure\", \"indices\"=>[39, 47]}], \"urls\"=>[{\"url\"=>\"http://t.co/ythjuG5U\", \"expanded_url\"=>\"http://benchmarksgame.alioth.debian.org/u32/benchmark.php?test=all&lang=clojure&lang2=java\", \"display_url\"=>\"benchmarksgame.alioth.debian.org/u32/benchmark.\8230\", \"indices\"=>[118, 138]}], \"user_mentions\"=>[]}, \"from_user\"=>\"michaelmayrde\", \"from_user_id\"=>129262618, \"from_user_id_str\"=>\"129262618\", \"from_user_name\"=>\"Michael Mayr\", \"geo\"=>nil, \"id\"=>286093203667562496, \"id_str\"=>\"286093203667562496\", \"iso_language_code\"=>\"en\", \"metadata\"=>{\"result_type\"=>\"recent\"}, \"profile_image_url\"=>\"http://a0.twimg.com/profile_images/825116083/avatar_normal.png\", \"profile_image_url_https\"=>\"https://si0.twimg.com/profile_images/825116083/avatar_normal.png\", \"source\"=>\"&lt;a href=&quot;http://twitter.com/&quot;&gt;web&lt;/a&gt;\", \"text\"=>\"New \\\"Programming Clojure\\\" still claims #Clojure is at \\\"The speed of hand-written Java code\\\" when it clearly isn't :-( http://t.co/ythjuG5U\", \"to_user\"=>nil, \"to_user_id\"=>0, \"to_user_id_str\"=>\"0\", \"to_user_name\"=>nil}, {\"created_at\"=>\"Thu, 03 Jan 2013 13:25:40 +0000\", \"entities\"=>{\"hashtags\"=>[{\"text\"=>\"clojure\", \"indices\"=>[24, 32]}], \"urls\"=>[{\"url\"=>\"http://t.co/KToCtKwN\", \"expanded_url\"=>\"http://4clojure.com\", \"display_url\"=>\"4clojure.com\", \"indices\"=>[44, 64]}], \"user_mentions\"=>[]}, \"from_user\"=>\"ngoro\", \"from_user_id\"=>19645092, \"from_user_id_str\"=>\"19645092\", \"from_user_name\"=>\"Igor Nikonov\", \"geo\"=>nil, \"id\"=>286825656715730944, \"id_str\"=>\"286825656715730945\", \"iso_language_code\"=>\"ru\", \"metadata\"=>{\"result_type\"=>\"recent\"}, \"profile_image_url\"=>\"http://a0.twimg.com/profile_images/2694899803/c1eb61f080d6b6e788c662a3e26c9589_normal.jpeg\", \"profile_image_url_https\"=>\"https://si0.twimg.com/profile_images/2694899803/c1eb61f080d6b6e788c662a3e26c9589_normal.jpeg\", \"source\"=>\"&lt;a href=&quot;http://tapbots.com/software/tweetbot/mac&quot;&gt;Tw\1077\1077tbot for Mac&lt;/a&gt;\", \"text\"=>\"\1055\1088\1086\1082\1072\1095\1080\1074\1072\1102 \1089\1074\1086\1081 \1089\1082\1080\1083 \1087\1086 #clojure \1089 \1087\1086\1084\1086\1097\1100\1102  http://t.co/KToCtKwN  \1050\1083\1077\1074\1086!\", \"to_user\"=>nil, \"to_user_id\"=>0, \"to_user_id_str\"=>\"0\", \"to_user_name\"=>nil}] \r\n```"
  , issueCommentId = 12191689
  }