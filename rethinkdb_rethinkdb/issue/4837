Issue
  { issueClosedAt = Just 2015 (-09) (-14) 20 : 52 : 01 UTC
  , issueUpdatedAt = 2015 (-09) (-16) 00 : 16 : 32 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4837/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/4837"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e102d8"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:bug"
          , labelName = "tp:bug"
          }
      ]
  , issueNumber = 4837
  , issueAssignee = Nothing
  , issueUser =
      SimpleUser
        { simpleUserId = Id 7431361
        , simpleUserLogin = N "larkost"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/7431361?v=3"
        , simpleUserUrl = "https://api.github.com/users/larkost"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "crash in `interface.stat`"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4837"
  , issueCreatedAt = 2015 (-09) (-14) 18 : 09 : 26 UTC
  , issueBody =
      Just
        "On the current `next` I am getting a consistent crash of the one of the servers used in the `interface.stat` test (`./test/run interface.stat`). This is in `debug` mode, and happens both on my local system (MacOS) and on `newton`.\r\n\r\n```\r\nerror: Error in src/threading.cc at line 27:\r\nerror: Assertion failed: [home_thread() == get_thread_id()] \r\nerror: Backtrace:\r\nerror: Mon Sep 14 11:04:41 2015\r\n\r\n1: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:101\r\n2: backtrace_t::backtrace_t() at backtrace.cc:203\r\n3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:283\r\n4: format_backtrace(bool) at backtrace.cc:198\r\n5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83\r\n6: home_thread_mixin_t::assert_thread() const at threading.cc:27\r\n7: stats_artificial_table_backend_t::write_row(ql::datum_t, bool, ql::datum_t*, signal_t*, admin_err_t*) at stats_backend.cc:209\r\n8: artificial_table_t::do_single_update(ql::env_t*, ql::datum_t, bool, std::function<ql::datum_t (ql::datum_t)> const&, return_changes_t, signal_t*, ql::datum_t*, std::set<std::string, std::less<std::string>, std::allocator<std::string> >*) at artificial_table.cc:251\r\n9: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1deebbc] at 0x1deebbc ()\r\n10: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1df0bb1] at 0x1df0bb1 ()\r\n11: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1df148a] at 0x1df148a ()\r\n12: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n13: coro_t::run() at coroutines.cc:207\r\n14: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1df0b78] at 0x1df0b78 ()\r\n15: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1df0398] at 0x1df0398 ()\r\n16: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1defff2] at 0x1defff2 ()\r\n17: artificial_table_t::write_batched_replace(ql::env_t*, std::vector<ql::datum_t, std::allocator<ql::datum_t> > const&, counted_t<ql::func_t const> const&, return_changes_t, durability_requirement_t) at artificial_table.cc:163\r\n18: ql::table_t::batched_replace(ql::env_t*, std::vector<ql::datum_t, std::allocator<ql::datum_t> > const&, std::vector<ql::datum_t, std::allocator<ql::datum_t> > const&, counted_t<ql::func_t const>, bool, durability_requirement_t, return_changes_t) at val.cc:282\r\n19: ql::replace_term_t::eval_impl(ql::scope_env_t*, ql::args_t*, ql::eval_flags_t) const at writes.cc:300\r\n20: ql::op_term_t::term_eval(ql::scope_env_t*, ql::eval_flags_t) const at op.cc:225\r\n21: ql::runtime_term_t::eval_on_current_stack(ql::scope_env_t*, ql::eval_flags_t) const at term.cc:350\r\n22: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x202c1f6] at 0x202c1f6 ()\r\n23: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x202c4a5] at 0x202c4a5 ()\r\n24: ql::runtime_term_t::eval(ql::scope_env_t*, ql::eval_flags_t) const at term.cc:371\r\n25: ql::rewrite_term_t::term_eval(ql::scope_env_t*, ql::eval_flags_t) const at rewrites.cc:44\r\n26: ql::runtime_term_t::eval_on_current_stack(ql::scope_env_t*, ql::eval_flags_t) const at term.cc:350\r\n27: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x202c1f6] at 0x202c1f6 ()\r\n28: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x202c4a5] at 0x202c4a5 ()\r\n29: ql::runtime_term_t::eval(ql::scope_env_t*, ql::eval_flags_t) const at term.cc:371\r\n30: ql::query_cache_t::ref_t::run(ql::env_t*, Response*) at query_cache.cc:294\r\n31: ql::query_cache_t::ref_t::fill_response(Response*, new_semaphore_acq_t*) at query_cache.cc:249\r\n32: ql::run(ql::query_id_t&&, ql::protob_t<Query>, Response*, ql::query_cache_t*, new_semaphore_acq_t*, signal_t*) at term.cc:273\r\n33: rdb_query_server_t::run_query(ql::query_id_t&&, ql::protob_t<Query> const&, Response*, ql::query_cache_t*, new_semaphore_acq_t*, signal_t*) at query_server.cc:52\r\n34: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1d4ee79] at 0x1d4ee79 ()\r\n35: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1d4efe2] at 0x1d4efe2 ()\r\n36: /home/ssd2/larkost/rethinkdb/build/debug/rethinkdb() [0x1d4e8b0] at 0x1d4e8b0 ()\r\n37: callable_action_instance_t<void query_server_t::connection_loop<json_protocol_t>(linux_tcp_conn_t*, unsigned long, ql::query_cache_t*, signal_t*)::{lambda()#1}>::run_action() at callable_action.hpp:31\r\n38: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n39: coro_t::run() at coroutines.cc:207\r\n40: void coro_t::spawn_now_dangerously<void query_server_t::connection_loop<json_protocol_t>(linux_tcp_conn_t*, unsigned long, ql::query_cache_t*, signal_t*)::{lambda()#1}>(void query_server_t::connection_loop<json_protocol_t>(linux_tcp_conn_t*, unsigned long, ql::query_cache_t*, signal_t*)::{lambda()#1}&&) at coroutines.hpp:53\r\n41: void query_server_t::connection_loop<json_protocol_t>(linux_tcp_conn_t*, unsigned long, ql::query_cache_t*, signal_t*) at protob.cc:625\r\n42: query_server_t::handle_conn(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) at protob.cc:490\r\n43: std::_Mem_fn<void (query_server_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)>::operator()(query_server_t*, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) const at functional:551\r\n44: void std::_Bind<std::_Mem_fn<void (query_server_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)> (query_server_t*, std::_Placeholder<1>, auto_drainer_t::lock_t)>::__call<void, scoped_ptr_t<linux_tcp_conn_descriptor_t>&, 0, 1, 2>(std::tuple<scoped_ptr_t<linux_tcp_conn_descriptor_t>&>&&, std::_Index_tuple<0, 1, 2>) at functional:1146\r\n45: void std::_Bind<std::_Mem_fn<void (query_server_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)> (query_server_t*, std::_Placeholder<1>, auto_drainer_t::lock_t)>::operator()<scoped_ptr_t<linux_tcp_conn_descriptor_t>&, void>(scoped_ptr_t<linux_tcp_conn_descriptor_t>&&&) at functional:1206\r\n46: std::_Function_handler<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&), std::_Bind<std::_Mem_fn<void (query_server_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)> (query_server_t*, std::_Placeholder<1>, auto_drainer_t::lock_t)> >::_M_invoke(std::_Any_data const&, scoped_ptr_t<linux_tcp_conn_descriptor_t>&) at functional:1780\r\n47: std::function<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&)>::operator()(scoped_ptr_t<linux_tcp_conn_descriptor_t>&) const at functional:2162\r\n48: linux_nonthrowing_tcp_listener_t::handle(int) at network.cc:924\r\n49: std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)>::operator()(linux_nonthrowing_tcp_listener_t*, int) const at functional:551\r\n50: void std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)>::__call<void, , 0, 1>(std::tuple<>&&, std::_Index_tuple<0, 1>) at functional:1147\r\n51: void std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)>::operator()<, void>() at functional:1206\r\n52: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)> >::run_action() at callable_action.hpp:31\r\n53: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n54: coro_t::run() at coroutines.cc:207\r\n55: void coro_t::spawn_now_dangerously<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)> >(std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)>&&) at coroutines.hpp:53\r\n56: linux_nonthrowing_tcp_listener_t::accept_loop(auto_drainer_t::lock_t) at network.cc:892\r\n57: std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)>::operator()(linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t) const at functional:551\r\n58: void std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)>::__call<void, , 0, 1>(std::tuple<>&&, std::_Index_tuple<0, 1>) at functional:1146\r\n59: void std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)>::operator()<, void>() at functional:1206\r\n60: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)> >::run_action() at callable_action.hpp:31\r\n61: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n62: coro_t::run() at coroutines.cc:207\r\n63: coro_t* coro_t::spawn_sometime<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)> >(std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)>&&) at coroutines.hpp:59\r\n64: linux_nonthrowing_tcp_listener_t::begin_listening() at network.cc:684\r\n65: linux_tcp_listener_t::linux_tcp_listener_t(std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, std::function<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&)> const&) at network.cc:955\r\n66: query_server_t::query_server_t(rdb_context_t*, std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, query_handler_t*, unsigned int) at protob.cc:371\r\n67: rdb_query_server_t::rdb_query_server_t(std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, rdb_context_t*) at query_server.cc:19\r\n68: do_serve(io_backender_t*, bool, base_path_t const&, metadata_file_t*, serve_info_t const&, os_signal_cond_t*) at serve.cc:488\r\n69: serve(io_backender_t*, base_path_t const&, metadata_file_t*, serve_info_t const&, os_signal_cond_t*) at serve.cc:641\r\n70: run_rethinkdb_serve(base_path_t const&, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, uuid_u const*, server_config_versioned_t const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:807\r\n71: void std::_Bind<void (*(base_path_t, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> >, uuid_u*, server_config_versioned_t*, cluster_semilattice_metadata_t*, directory_lock_t*, bool*))(base_path_t const&, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, uuid_u const*, server_config_versioned_t const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*)>::__call<void, , 0, 1, 2, 3, 4, 5, 6, 7, 8, 9>(std::tuple<>&&, std::_Index_tuple<0, 1, 2, 3, 4, 5, 6, 7, 8, 9>) at functional:1147\r\n72: void std::_Bind<void (*(base_path_t, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> >, uuid_u*, server_config_versioned_t*, cluster_semilattice_metadata_t*, directory_lock_t*, bool*))(base_path_t const&, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, uuid_u const*, server_config_versioned_t const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*)>::operator()<, void>() at functional:1206\r\n73: std::_Function_handler<void (), std::_Bind<void (*(base_path_t, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> >, uuid_u*, server_config_versioned_t*, cluster_semilattice_metadata_t*, directory_lock_t*, bool*))(base_path_t const&, serve_info_t*, file_direct_io_mode_t, int, boost::optional<boost::optional<unsigned long> > const&, uuid_u const*, server_config_versioned_t const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*)> >::_M_invoke(std::_Any_data const&) at functional:1780\r\n74: std::function<void ()>::operator()() const at functional:2162\r\n75: starter_t::run_wrapper(std::function<void ()> const&) at runtime.cc:61\r\n76: std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)>::operator()(starter_t*, std::function<void ()> const&) const at functional:551\r\n77: void std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)>::__call<void, , 0, 1>(std::tuple<>&&, std::_Index_tuple<0, 1>) at functional:1147\r\n2015-09-14T11:04:42.142253470 17.211078s error: Exiting.\r\n```"
  , issueState = "closed"
  , issueId = Id 106397547
  , issueComments = 4
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 505365
                , simpleUserLogin = N "danielmewes"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/505365?v=3"
                , simpleUserUrl = "https://api.github.com/users/danielmewes"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2015 (-09) (-16) 07 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 108
          , milestoneClosedIssues = 6
          , milestoneDescription = Just ""
          , milestoneTitle = "2.1.4"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/108"
          , milestoneCreatedAt = 2015 (-09) (-16) 00 : 16 : 19 UTC
          , milestoneState = "closed"
          }
  }