IssueComment
  { issueCommentUpdatedAt = 2013 (-01) (-17) 20 : 29 : 20 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 646357
        , simpleUserLogin = N "wmrowan"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/646357?v=3"
        , simpleUserUrl = "https://api.github.com/users/wmrowan"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/12390057"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/222#issuecomment-12390057"
  , issueCommentCreatedAt = 2013 (-01) (-17) 20 : 29 : 20 UTC
  , issueCommentBody =
      "Part of the problem here is that the google closure library (which we need for protobuf support) assumes that it's operating in a browser environment. It has its own dependency resolution mechanism and builder script (separate from the compiler itself) that concats your source files in the correct order. Its hard to produce a node idiomatic library when we rely on a large library that itself is not and has to be compiled into our library.\r\n\r\nThe compromise was to use closure to produce a built-for-the-web JS library that uses feature detection to export itself using common JS conventions when run in node.\r\n\r\nWe could introduce separate build paths to produce an npm module for node and a single script for the web but we'd still have to figure out how to shoehorn the google closure code into the common js module system. Though I'm not opposed to separate build paths I do think there is some elegance in having a single file that just works in all environments."
  , issueCommentId = 12390057
  }