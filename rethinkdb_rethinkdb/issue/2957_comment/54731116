IssueComment
  { issueCommentUpdatedAt = 2014 (-09) (-08) 17 : 15 : 37 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 1461947
        , simpleUserLogin = N "neumino"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1461947?v=3"
        , simpleUserUrl = "https://api.github.com/users/neumino"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/54731116"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2957#issuecomment-54731116"
  , issueCommentCreatedAt = 2014 (-09) (-06) 22 : 50 : 06 UTC
  , issueCommentBody =
      "A few more random things.\r\n\r\n- the value `nothing` for `role` is annoying to deal with. Basically it seems reasonable to consider that the query below will return the number of replicas per shard:\r\n```\r\nr.db('rethinkdb').table('table_status').get('23c730c1-0b36-4cdb-9e0f-922c653b987e')('shards').nth(0).count()\r\n```\r\nWe currently have the same thing in `/ajax`, and I can deal with that, but since we are making the API public, we may want to reconsider that.\r\n\r\n- At what condition is it safe to retrieve secondary indexes? Is the condition \"all the masters\" ready is enough?\r\n\r\n- `table_config` should store the number of replicas/shards set in `reconfigure`. People shouldn't have to run subqueries with `count` to find these values.\r\nWe should maybe also put it in `table_status`?\r\n\r\n- If a server is down, I can't run `reconfigure`. I thought we were going to change this behavior, but I'm not sure what we decided. Should the web ui look for servers down and gray out all buttons if a server is missing?"
  , issueCommentId = 54731116
  }