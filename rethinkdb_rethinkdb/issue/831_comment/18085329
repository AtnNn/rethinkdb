IssueComment
  { issueCommentUpdatedAt = 2013 (-05) (-17) 21 : 33 : 03 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 72166
        , simpleUserLogin = N "byterussian"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/72166?v=3"
        , simpleUserUrl = "https://api.github.com/users/byterussian"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/18085329"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/831#issuecomment-18085329"
  , issueCommentCreatedAt = 2013 (-05) (-17) 20 : 50 : 20 UTC
  , issueCommentBody =
      "Ehm... Now with rethinkdb 1.5 and 1.5 drivers the server crash at test_random_insert_regressions tests\r\nhere the trace:\r\n```\r\ninfo: Server ready\r\nVersion: rethinkdb 1.5.0 (CLANG 4.1 ((tags/Apple/clang-421.11.66)))\r\nerror: Error in ./src/rdb_protocol/protocol.hpp at line 511:\r\nerror: Guarantee failed: [!_point_replaces.empty()] \r\nerror: Backtrace:\r\nerror: Fri May 17 22:46:06 2013\r\n       \r\n       1: 0   rethinkdb                           0x0000000107bb628d _ZN26callable_action_instance_tI21pmap_runner_one_arg_tIN5boost3_bi6bind_tIvNS1_4_mfi3mf1Iv29traversal_progress_combiner_tiEENS2_5list2INS2_5valueIPS6_EENS1_3argILi1EEEEEEEiEED0Ev + 3261\r\n       2: 1   rethinkdb                           0x0000000107bb56bf _ZN26callable_action_instance_tI21pmap_runner_one_arg_tIN5boost3_bi6bind_tIvNS1_4_mfi3mf1Iv29traversal_progress_combiner_tiEENS2_5list2INS2_5valueIPS6_EENS1_3argILi1EEEEEEEiEED0Ev + 239\r\n       3: 2   rethinkdb                           0x0000000107f51aa2 _ZNSt3__16vectorIcNS_9allocatorIcEEE6insertIPKcEENS_9enable_ifIXsr21__is_forward_iteratorIT_EE5valueENS_11__wrap_iterIPcEEE4typeENS9_IS6_EES8_S8_ + 10402\r\n       4: 3   rethinkdb                           0x0000000108034f2e _ZN14query_language19transform_visitor_tD2Ev + 12398\r\n       5: 4   rethinkdb                           0x0000000108035b33 _ZN14query_language19transform_visitor_tD2Ev + 15475\r\n       6: 5   rethinkdb                           0x000000010802ce67 _ZN2ql13insert_term_t9eval_implEv + 1911\r\n       7: 6   rethinkdb                           0x0000000108001445 _ZNSt3__16__treeINS_4pairIxPvEENS_19__map_value_compareIxS2_NS_4lessIxEELb1EEENS_9allocatorIS3_EEE15__insert_uniqueINS1_IxPN2ql15stream_cache2_t7entry_tEEEEENS1_INS_15__tree_iteratorIS3_PNS_11__tree_nodeIS3_S2_EElEEbEEOT_ + 15957\r\n       8: 7   rethinkdb                           0x000000010800073d _ZNSt3__16__treeINS_4pairIxPvEENS_19__map_value_compareIxS2_NS_4lessIxEELb1EEENS_9allocatorIS3_EEE15__insert_uniqueINS1_IxPN2ql15stream_cache2_t7entry_tEEEEENS1_INS_15__tree_iteratorIS3_PNS_11__tree_nodeIS3_S2_EElEEbEEOT_ + 12621\r\n       9: 8   rethinkdb                           0x0000000107fca7a1 _ZN5boost6detail7variant15visitation_implIN4mpl_4int_ILi0EEENS1_20visitation_impl_stepINS_3mpl6l_iterINS7_6l_itemINS3_5long_ILl4EEEN14rdb_protocol_t12point_read_tENS9_INSA_ILl3EEENSC_11rget_read_tENS9_INSA_ILl2EEENSC_19distribution_read_tENS9_INSA_ILl1EEENSC_13sindex_list_tENS7_5l_endEEEEEEEEEEENS8_ISK_EEEENS1_14invoke_visitorINS1_15direct_assignerISD_EEEEPvNS_7variantISD_SF_SH_SJ_NS1_5void_ESY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_E18has_fallback_type_EEENT1_11result_typeEiiRS11_T2_NS3_5bool_ILb0EEET3_PT_PT0_ + 1777\r\n       10: 9   rethinkdb                           0x0000000107fcce48 _ZNK5boost4_mfi3mf3Ib15query2_server_tN2ql8protob_tI5QueryEEP8ResponsePNS2_9context_tEEclEPS2_S6_S8_SA_ + 72\r\n       11: 10  rethinkdb                           0x0000000107fccd85 _ZN5boost3_bi5list4INS0_5valueIP15query2_server_tEENS_3argILi1EEENS6_ILi2EEENS6_ILi3EEEEclIbNS_4_mfi3mf3IbS3_N2ql8protob_tI5QueryEEP8ResponsePNS3_9context_tEEENS0_5list3IRSH_RSJ_RSL_EEEET_NS0_4typeISS_EERT0_RT1_l + 69\r\n       12: 11  rethinkdb                           0x0000000107fccd37 _ZN5boost6detail8function21function_obj_invoker3INS_3_bi6bind_tIbNS_4_mfi3mf3Ib15query2_server_tN2ql8protob_tI5QueryEEP8ResponsePNS7_9context_tEEENS3_5list4INS3_5valueIPS7_EENS_3argILi1EEENSL_ILi2EEENSL_ILi3EEEEEEEbSB_SD_SF_E6invokeERNS1_15function_bufferESB_SD_SF_ + 55\r\n       13: 12  rethinkdb                           0x0000000107d2dd4a _ZNK5boost9function3IbN2ql8protob_tI5QueryEEP8ResponsePN15query2_server_t9context_tEEclES4_S6_S9_ + 122\r\n       14: 13  rethinkdb                           0x0000000107fcc21d _ZN15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEE11handle_connERK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tE + 2013\r\n       15: 14  rethinkdb                           0x0000000107fcca60 _ZN5boost3_bi5list3INS0_5valueIP15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEEEENS_3argILi1EEENS2_IN14auto_drainer_t6lock_tEEEEclINS_4_mfi3mf2IvSB_RK12scoped_ptr_tI27linux_tcp_conn_descriptor_tESH_EENS0_5list1IRSP_EEEEvNS0_4typeIvEERT_RT0_i + 80\r\n       16: 15  rethinkdb                           0x0000000107fcc91f _ZN5boost6detail8function26void_function_obj_invoker1INS_3_bi6bind_tIvNS_4_mfi3mf2Iv15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEERK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tEEENS3_5list3INS3_5valueIPSF_EENS_3argILi1EEENSP_ISM_EEEEEEvRSI_E6invokeERNS1_15function_bufferESX_ + 31\r\n       17: 16  rethinkdb                           0x0000000107baaab6 _ZN11publisher_tIPN8signal_t14subscription_tEED0Ev + 21302\r\n       18: 17  rethinkdb                           0x0000000107baedcc _ZN22linux_event_callback_tD0Ev + 4844\r\nerror: Exiting.\r\n[1]    8531 trace trap  rethinkdb\r\n\r\n```\r\n\r\nSame issue with rethinkdb 1.5.1-1\r\n\r\n```\r\nVersion: rethinkdb 1.5.1-1 (CLANG 4.2 (clang-425.0.28))\r\nerror: Error in ./src/rdb_protocol/protocol.hpp at line 511:\r\nerror: Guarantee failed: [!_point_replaces.empty()] \r\nerror: Backtrace:\r\nerror: Fri May 17 23:31:17 2013\r\n       \r\n       1: 0   rethinkdb                           0x0000000106c27727 _ZNSt3__113__vector_baseIP20traversal_progress_tNS_9allocatorIS2_EEED2Ev + 2829\r\n       2: 1   rethinkdb                           0x0000000106c26d26 _ZNSt3__113__vector_baseIP20traversal_progress_tNS_9allocatorIS2_EEED2Ev + 268\r\n       3: 2   rethinkdb                           0x0000000106eefcb6 _ZNSt3__16vectorIcNS_9allocatorIcEEE6insertIPKcEENS_9enable_ifIXsr21__is_forward_iteratorIT_EE5valueENS_11__wrap_iterIPcEEE4typeENS9_IS6_EES8_S8_ + 8094\r\n       4: 3   rethinkdb                           0x0000000106fbf9af _ZN14rdb_protocol_t18batched_replaces_tC2ERKNSt3__16vectorINS1_4pairIxNS_15point_replace_tEEENS1_9allocatorIS5_EEEE + 53\r\n       5: 4   rethinkdb                           0x0000000106fb8ef0 _ZN14query_language30terminal_initializer_visitor_tC2EPN5boost7variantINSt3__16vectorINS3_4pairI11store_key_tNS1_10shared_ptrI14scoped_cJSON_tEEEENS3_9allocatorISA_EEEENS3_3mapIS9_S9_NS_20shared_scoped_less_tENSB_INS5_IKS9_S9_EEEEEES9_N14rdb_protocol_t20rget_read_response_t8length_tENSL_10inserted_tENS_13runtime_exc_tEN2ql5exc_tENSP_11datum_exc_tENSP_12wire_datum_tENS4_ISS_NSB_ISS_EEEENSP_16wire_datum_map_tENS4_ISV_NSB_ISV_EEEENSL_7empty_tENS4_IS9_NSB_IS9_EEEENS1_6detail7variant5void_ES13_S13_S13_S13_S13_EEPNSP_5env_tERKNS_8scopes_tERKNS_11backtrace_tE + 11134\r\n       6: 5   rethinkdb                           0x0000000106fb9b77 _ZN14query_language30terminal_initializer_visitor_tC2EPN5boost7variantINSt3__16vectorINS3_4pairI11store_key_tNS1_10shared_ptrI14scoped_cJSON_tEEEENS3_9allocatorISA_EEEENS3_3mapIS9_S9_NS_20shared_scoped_less_tENSB_INS5_IKS9_S9_EEEEEES9_N14rdb_protocol_t20rget_read_response_t8length_tENSL_10inserted_tENS_13runtime_exc_tEN2ql5exc_tENSP_11datum_exc_tENSP_12wire_datum_tENS4_ISS_NSB_ISS_EEEENSP_16wire_datum_map_tENS4_ISV_NSB_ISV_EEEENSL_7empty_tENS4_IS9_NSB_IS9_EEEENS1_6detail7variant5void_ES13_S13_S13_S13_S13_EEPNSP_5env_tERKNS_8scopes_tERKNS_11backtrace_tE + 14341\r\n       7: 6   rethinkdb                           0x0000000106fb1b55 _ZN2ql13insert_term_t9eval_implEv + 1177\r\n       8: 7   rethinkdb                           0x0000000106f87895 _ZNSt3__16__treeINS_4pairIxPvEENS_19__map_value_compareIxS2_NS_4lessIxEELb1EEENS_9allocatorIS3_EEE16__insert_node_atEPNS_16__tree_node_baseIS2_EERSD_SD_ + 14565\r\n       9: 8   rethinkdb                           0x0000000106f86dc3 _ZNSt3__16__treeINS_4pairIxPvEENS_19__map_value_compareIxS2_NS_4lessIxEELb1EEENS_9allocatorIS3_EEE16__insert_node_atEPNS_16__tree_node_baseIS2_EERSD_SD_ + 11795\r\n       10: 9   rethinkdb                           0x0000000106f53a70 _ZN5boost6detail7variant15visitation_implIN4mpl_4int_ILi0EEENS1_20visitation_impl_stepINS_3mpl6l_iterINS7_6l_itemINS3_5long_ILl4EEEN14rdb_protocol_t12point_read_tENS9_INSA_ILl3EEENSC_11rget_read_tENS9_INSA_ILl2EEENSC_19distribution_read_tENS9_INSA_ILl1EEENSC_13sindex_list_tENS7_5l_endEEEEEEEEEEENS8_ISK_EEEENS1_14invoke_visitorINS1_15direct_assignerISD_EEEEPvNS_7variantISD_SF_SH_SJ_NS1_5void_ESY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_SY_E18has_fallback_type_EEENT1_11result_typeEiiRS11_T2_NS3_5bool_ILb0EEET3_PT_PT0_ + 1356\r\n       11: 10  rethinkdb                           0x0000000106f575da _ZNK5boost4_mfi3mf3Ib15query2_server_tN2ql8protob_tI5QueryEEP8ResponsePNS2_9context_tEEclEPS2_S6_S8_SA_ + 72\r\n       12: 11  rethinkdb                           0x0000000106f5751f _ZN5boost3_bi5list4INS0_5valueIP15query2_server_tEENS_3argILi1EEENS6_ILi2EEENS6_ILi3EEEEclIbNS_4_mfi3mf3IbS3_N2ql8protob_tI5QueryEEP8ResponsePNS3_9context_tEEENS0_5list3IRSH_RSJ_RSL_EEEET_NS0_4typeISS_EERT0_RT1_l + 69\r\n       13: 12  rethinkdb                           0x0000000106f574d3 _ZN5boost6detail8function21function_obj_invoker3INS_3_bi6bind_tIbNS_4_mfi3mf3Ib15query2_server_tN2ql8protob_tI5QueryEEP8ResponsePNS7_9context_tEEENS3_5list4INS3_5valueIPS7_EENS_3argILi1EEENSL_ILi2EEENSL_ILi3EEEEEEEbSB_SD_SF_E6invokeERNS1_15function_bufferESB_SD_SF_ + 55\r\n       14: 13  rethinkdb                           0x0000000106f5565c _ZNK5boost9function3IbN2ql8protob_tI5QueryEEP8ResponsePN15query2_server_t9context_tEEclES4_S6_S9_ + 60\r\n       15: 14  rethinkdb                           0x0000000106f5672a _ZN15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEE11handle_connERK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tE + 1208\r\n       16: 15  rethinkdb                           0x0000000106f57178 _ZNK5boost4_mfi3mf2Iv15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEERK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tEEclEPSA_SF_SH_ + 68\r\n       17: 16  rethinkdb                           0x0000000106f57109 _ZN5boost3_bi5list3INS0_5valueIP15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEEEENS_3argILi1EEENS2_IN14auto_drainer_t6lock_tEEEEclINS_4_mfi3mf2IvSB_RK12scoped_ptr_tI27linux_tcp_conn_descriptor_tESH_EENS0_5list1IRSP_EEEEvNS0_4typeIvEERT_RT0_i + 57\r\n       18: 17  rethinkdb                           0x0000000106f56fa1 _ZN5boost6detail8function26void_function_obj_invoker1INS_3_bi6bind_tIvNS_4_mfi3mf2Iv15protob_server_tIN2ql8protob_tI5QueryEE8ResponseN15query2_server_t9context_tEERK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tEEENS3_5list3INS3_5valueIPSF_EENS_3argILi1EEENSP_ISM_EEEEEEvRSI_E6invokeERNS1_15function_bufferESX_ + 31\r\n       19: 18  rethinkdb                           0x0000000106c1ee2e _ZNK5boost9function1IvR12scoped_ptr_tI27linux_tcp_conn_descriptor_tEEclES4_ + 28\r\n       20: 19  rethinkdb                           0x0000000106c1e10c _ZN15stats_diskmgr_tI35conflict_resolving_diskmgr_action_tI27accounting_diskmgr_action_tEEC2EP20perfmon_collection_tRKNSt3__112basic_stringIcNS6_11char_traitsIcEENS6_9allocatorIcEEEE + 14964\r\n       21: 20  rethinkdb                           0x0000000106c21855 _ZN16linux_tcp_conn_t20connect_failed_exc_tC2Ei + 3305\r\nerror: Exiting.\r\n[1]    40376 trace trap  rethinkdb\r\n\r\n```"
  , issueCommentId = 18085329
  }