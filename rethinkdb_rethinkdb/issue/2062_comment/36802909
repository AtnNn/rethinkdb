IssueComment
  { issueCommentUpdatedAt = 2014 (-03) (-05) 22 : 31 : 55 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/36802909"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/2062#issuecomment-36802909"
  , issueCommentCreatedAt = 2014 (-03) (-05) 22 : 31 : 55 UTC
  , issueCommentBody =
      "Hi @wojons,\r\nI agree that the current options in ReQL for implementing this scenario are not really satisfactory. Apart from the fact that it is slow, you also have the problem that the branch is not going to be atomic, and it could happen that the document is inserted (/ or deleted) through another connection just between the time where you test if the document exists, and the time where you try to insert a new one (/ try to update the no longer existing one).\r\n\r\nSuggestions for an improved upsert are discussed here:\r\nhttps://github.com/rethinkdb/rethinkdb/issues/1838#issuecomment-32013112\r\nThose suggestions would allow you to move the branch into the update the way you describe."
  , issueCommentId = 36802909
  }