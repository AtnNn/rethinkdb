Issue
  { issueClosedAt = Just 2016 (-04) (-11) 16 : 22 : 48 UTC
  , issueUpdatedAt = 2016 (-04) (-19) 18 : 35 : 28 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5484/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/pull/5484"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "fef2c0"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/Java"
          , labelName = "Java"
          }
      ]
  , issueNumber = 5484
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 1366
          , simpleUserLogin = N "deontologician"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/1366?v=3"
          , simpleUserUrl = "https://api.github.com/users/deontologician"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 5234060
        , simpleUserLogin = N "QianJin2013"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/5234060?v=3"
        , simpleUserUrl = "https://api.github.com/users/QianJin2013"
        , simpleUserType = OwnerUser
        }
  , issueTitle =
      "Support almost ALL types in/out. (e.x. Enum, OffsetDateTime, BigDecimal, double, Float... )"
  , issuePullRequest =
      Just
        PullRequestReference
          { pullRequestReferenceHtmlUrl =
              Just "https://github.com/rethinkdb/rethinkdb/pull/5484"
          , pullRequestReferencePatchUrl =
              Just "https://github.com/rethinkdb/rethinkdb/pull/5484.patch"
          , pullRequestReferenceDiffUrl =
              Just "https://github.com/rethinkdb/rethinkdb/pull/5484.diff"
          }
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/5484"
  , issueCreatedAt = 2016 (-03) (-05) 05 : 27 : 28 UTC
  , issueBody =
      Just
        "### [Java-Client-Driver] There are many data type can not be store to or retrieve from db just because the type conversion logic have some problems or not enough.\r\n\r\nThese problematic types are (23 types):\r\n```\r\nenum\r\nBigDecimal, BigInteger\r\nBoolean, boolean\r\nDouble, double, Float, float, Long, long, Integer, int, Short, short, Byte, byte\r\nOffsetDateTime, ZonedDateTime, LocalDate, LocalDateTime, LocalTime, Date\r\n```\r\n\r\nIn above types, there are some types cause conversion problem when store data to db, both implemented in com.rethinkdb.ast.Util::toReqlAst()\r\n```\r\nenum:\r\n   No error, but stored as null.\r\n```\r\n```\r\nInteger, int:\r\n  Strange unreasonable exception complains should use Long instead of Integer.\r\ncom.rethinkdb.gen.exc.ReqlDriverError: Can't convert com.rethinkdb.TestPojo@79b06cab to a ReqlAst: Make getIntegerProperty of com.rethinkdb.TestPojo@79b06cab Long instead of Integer\r\n\r\n\tat com.rethinkdb.ast.Util.toMap(Util.java:159)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:120)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:33)\r\n\tat com.rethinkdb.model.Arguments.coerceAndAdd(Arguments.java:43)\r\n\tat com.rethinkdb.gen.ast.Table.insert(Table.java:45)\r\n\tat com.rethinkdb.RethinkDBTest.testTableSelectOfPojoCursor(RethinkDBTest.java:293)\r\n```\r\n```\r\nLocalDateTime:\r\n  Error when try to format non-existence timezone. Error message is weird, seems non sense.\r\njava.time.temporal.UnsupportedTemporalTypeException: Unsupported field: OffsetSeconds\r\n\r\n\tat java.time.LocalDate.get0(LocalDate.java:680)\r\n\tat java.time.LocalDate.getLong(LocalDate.java:659)\r\n\tat java.time.LocalDateTime.getLong(LocalDateTime.java:720)\r\n\tat java.time.format.DateTimePrintContext$1.getLong(DateTimePrintContext.java:205)\r\n\tat java.time.format.DateTimePrintContext.getValue(DateTimePrintContext.java:298)\r\n\tat java.time.format.DateTimeFormatterBuilder$OffsetIdPrinterParser.format(DateTimeFormatterBuilder.java:3338)\r\n\tat java.time.format.DateTimeFormatterBuilder$CompositePrinterParser.format(DateTimeFormatterBuilder.java:2182)\r\n\tat java.time.format.DateTimeFormatter.formatTo(DateTimeFormatter.java:1744)\r\n\tat java.time.format.DateTimeFormatter.format(DateTimeFormatter.java:1718)\r\n\tat java.time.LocalDateTime.format(LocalDateTime.java:1746)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:90)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:33)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:76)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:33)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:120)\r\n\tat com.rethinkdb.ast.Util.toReqlAst(Util.java:33)\r\n\tat com.rethinkdb.model.Arguments.coerceAndAdd(Arguments.java:43)\r\n\tat com.rethinkdb.gen.ast.Table.insert(Table.java:45)\r\n\tat com.rethinkdb.RethinkDBTest.testTableSelectOfPojoCursor(RethinkDBTest.java:293)  \r\n```\r\n\r\nAfter stored data into db, there are conversion problem occurs when retrieve data and convert to original type. The conversion logic is very simple:\r\n```\r\nvalueClass.cast(value)\r\n```\r\nwhich means **strict conversion** by \r\n```\r\n(SomeClass)value\r\n```\r\nSo all errors are same java.lang.ClassCastException: \r\n```\r\nEnum: Cannot cast java.lang.String to com.rethinkdb.TestPojo$PojoEnum\r\nBigDecimal:  Cannot cast java.lang.Double to java.math.BigDecimal\r\nBigInteger: Cannot cast java.lang.Long to java.math.BigInteger\r\ndouble: Cannot cast java.lang.Double to double\r\nFloat: Cannot cast java.lang.Double to java.lang.Float\r\nfloat: Cannot cast java.lang.Double to float\r\nLong: Cannot cast java.lang.Double to java.lang.Long\r\nlong: Cannot cast java.lang.Long to long\r\nInteger: Cannot cast java.lang.Long to java.lang.Integer\r\nint: Cannot cast java.lang.Long to int\r\nboolean: Cannot cast java.lang.Boolean to boolean\r\nShort: Cannot cast java.lang.Long to java.lang.Short\r\nshort: Cannot cast java.lang.Long to short\r\nByte: Cannot cast java.lang.Long to java.lang.Byte\r\nbyte: Cannot cast java.lang.Long to byte\r\nLocalDateTime: Cannot cast java.time.OffsetDateTime to java.time.LocalDateTime\r\nZonedDateTime: Cannot cast java.time.OffsetDateTime to java.time.ZonedDateTime\r\n\r\nStack trace are same:\r\njava.lang.ClassCastException: Cannot cast yyy to XXXType\r\n\r\n\tat java.lang.Class.cast(Class.java:3369)\r\n\tat com.rethinkdb.net.Util.constructViaPublicParameterlessConstructor(Util.java:115)\r\n\tat com.rethinkdb.net.Util.toPojo(Util.java:70)\r\n\tat com.rethinkdb.net.Util.convertToPojo(Util.java:39)\r\n\tat com.rethinkdb.net.Cursor$DefaultCursor.getNext(Cursor.java:198)\r\n\tat com.rethinkdb.net.Cursor.next(Cursor.java:124)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat com.rethinkdb.net.Cursor.toList(Cursor.java:144)\r\n\tat com.rethinkdb.RethinkDBTest.testTableSelectOfPojoCursor(RethinkDBTest.java:299)\r\n```\r\n```\r\nLocalDate:\r\n\r\ncom.rethinkdb.gen.exc.ReqlDriverError: Can't convert {dayOfWeek=SUNDAY, month=MARCH, dayOfMonth=6, dayOfYear=66, era=CE, year=2016, monthValue=3, chronology={calendarType=iso8601, id=ISO}, leapYear=true} to a POJO: class java.time.LocalDate should have a public parameterless constructor or a public constructor with 9 parameters\r\n```\r\n```\r\nLocalTime:\r\n\r\ncom.rethinkdb.gen.exc.ReqlDriverError: Can't convert {hour=13, nano=24000000, minute=12, second=54} to a POJO: class java.time.LocalTime should have a public parameterless constructor or a public constructor with 4 parameters\r\n```\r\nstack trace are same:\r\n```\r\n\tat com.rethinkdb.net.Util.toPojo(Util.java:87)\r\n\tat com.rethinkdb.net.Util.constructViaPublicParameterlessConstructor(Util.java:118)\r\n\tat com.rethinkdb.net.Util.toPojo(Util.java:74)\r\n\tat com.rethinkdb.net.Util.convertToPojo(Util.java:39)\r\n\tat com.rethinkdb.net.Cursor$DefaultCursor.getNext(Cursor.java:198)\r\n\tat com.rethinkdb.net.Cursor.next(Cursor.java:124)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat com.rethinkdb.net.Cursor.toList(Cursor.java:144)\r\n\tat com.rethinkdb.RethinkDBTest.testTableSelectOfPojoCursor(RethinkDBTest.java:299)\r\n```\r\n\r\n### To test many data types in/out, i add all above types of properties to <a href=\"https://github.com/sjitech/rethinkdb/blob/next/drivers/java/src/test/java/com/rethinkdb/TestPojo.java\">TestPojo.java</a>  bean definition and add test code to <a href=\"https://github.com/sjitech/rethinkdb/blob/next/drivers/java/src/test/java/com/rethinkdb/RethinkDBTest.java#L290\"> testTableSelectOfPojo()</a>.\r\n\r\n### These modification does ONLY modify test code, NO any harm, so **i strongly recommend merge this as soon as possible**.\r\n\r\nBy running the test case <a href=\"https://github.com/sjitech/rethinkdb/blob/next/drivers/java/src/test/java/com/rethinkdb/RethinkDBTest.java#L290\"> testTableSelectOfPojo()</a>, you can see many conversion problems.\r\n\r\n### Sorry, if you are stuck in the test case, you need set some problematic type's default value to null in <a href=\"https://github.com/sjitech/rethinkdb/blob/next/drivers/java/src/test/java/com/rethinkdb/TestPojo.java\">TestPojo.java</a>  bean, so you can pass some error and continue test other types.\r\n```\r\npublic class TestPojo {\r\n    ...\r\n    private PojoEnum enumProperty = PojoEnum.AAA;\r\n    private OffsetDateTime offsetDateTimeProperty = sampleOffsetDateTimeProperty;\r\n    private LocalDateTime localDateTimeProperty = sampleLocalDateTimeProperty;\r\n    private ZonedDateTime zonedDateTimeProperty = sampleZonedDateTimeProperty;\r\n    private LocalDate localDateProperty = sampleLocalDateProperty;\r\n    private LocalTime localTimeProperty = sampleLocalTimeProperty;\r\n    private Double doubleProperty = Double.MAX_VALUE;\r\n    ... ...\r\n```\r\n\r\nRelated: https://github.com/rethinkdb/rethinkdb/pull/5483, https://github.com/rethinkdb/rethinkdb/issues/5228, https://github.com/rethinkdb/rethinkdb/issues/5446\r\n"
  , issueState = "closed"
  , issueId = Id 138649442
  , issueComments = 5
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 706854
                , simpleUserLogin = N "AtnNn"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/706854?v=3"
                , simpleUserUrl = "https://api.github.com/users/AtnNn"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 0
          , milestoneNumber = 64
          , milestoneClosedIssues = 228
          , milestoneDescription =
              Just
                "These issues are no longer relevant to the current version of RethinkDB"
          , milestoneTitle = "outdated"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/64"
          , milestoneCreatedAt = 2014 (-03) (-28) 00 : 17 : 40 UTC
          , milestoneState = "closed"
          }
  }