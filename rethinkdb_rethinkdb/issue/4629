Issue
  { issueClosedAt = Nothing
  , issueUpdatedAt = 2016 (-10) (-14) 20 : 29 : 15 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4629/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/4629"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e10c02"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/pr:high"
          , labelName = "pr:high"
          }
      , IssueLabel
          { labelColor = "007575"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:API_settled"
          , labelName = "tp:API_settled"
          }
      ]
  , issueNumber = 4629
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 1777134
          , simpleUserLogin = N "mlucy"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/1777134?v=3"
          , simpleUserUrl = "https://api.github.com/users/mlucy"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 48436
        , simpleUserLogin = N "coffeemug"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/48436?v=3"
        , simpleUserUrl = "https://api.github.com/users/coffeemug"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "Allow correlating writes with feed notifications"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/4629"
  , issueCreatedAt = 2015 (-08) (-04) 23 : 47 : 05 UTC
  , issueBody =
      Just
        "I talked to @Slava today about missing RethinkDB features that would make a Meteor integration much simpler. He said he only needs #3579, and ability to correlate writes with feed notifications. This issue is for the latter feature.\r\n\r\nImagine you have a chat application; when the user sends a message you want to show it on the client right away (possibly greyed out) to compensate for latency (which results in a much better user experience). When the notification later shows up in the feed, you then want to update the color to indicate that the message has been broadcast to everyone. In order to do that well, we need monotonically increasing write ids on per-connection basis.\r\n\r\nHere is an example:\r\n\r\n```js\r\n> r.table('foo').insert({name: 'Slava'}).run()\r\n{\r\n    inserted: 1,\r\n    write_id: [conn_id, timestamp],\r\n    // ...\r\n}\r\n```\r\n\r\nThen on the feed:\r\n\r\n```js\r\n> r.table('foo').changes()\r\n{\r\n    new_val: ...,\r\n    old_val: ...,\r\n    write_id: [conn_id, timestamp]\r\n}\r\n```\r\n\r\nThis way the client can correlate the write with the feed notification and do latency compensation.\r\n\r\nThere are a few outstanding questions:\r\n\r\n- How do we return write ids when the user does a batch write?\r\n- Does it always make sense to return it on a feed (e.g. what about complex feeds like `orderBy.limit`, etc.)? Will there ever be a case when we can't return a write id on the feed?\r\n\r\nAlso, ideally the timestamp would be user readable -- e.g. `time-since-epoch_integer` (the `integer` is there to dedup two writes with the same timestamp).\r\n\r\nPutting in 2.2.\r\n\r\n/cc @mlucy @danielmewes "
  , issueState = "open"
  , issueId = Id 99085418
  , issueComments = 67
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 505365
                , simpleUserLogin = N "danielmewes"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/505365?v=3"
                , simpleUserUrl = "https://api.github.com/users/danielmewes"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 86
          , milestoneNumber = 123
          , milestoneClosedIssues = 22
          , milestoneDescription = Just ""
          , milestoneTitle = "2.4-polish"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/123"
          , milestoneCreatedAt = 2016 (-04) (-28) 19 : 25 : 10 UTC
          , milestoneState = "open"
          }
  }