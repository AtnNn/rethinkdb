Issue
  { issueClosedAt = Just 2014 (-06) (-26) 02 : 47 : 47 UTC
  , issueUpdatedAt = 2014 (-06) (-26) 02 : 47 : 47 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2093/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/2093"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e102d8"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:bug"
          , labelName = "tp:bug"
          }
      ]
  , issueNumber = 2093
  , issueAssignee = Nothing
  , issueUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueTitle =
      "Assertion failed: [0 <= estimate_of_released_nodes && estimate_of_released_nodes <= estimate_of_total_nodes]"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2093"
  , issueCreatedAt = 2014 (-03) (-14) 03 : 31 : 04 UTC
  , issueBody =
      Just
        "During backfilling:\r\n```\r\nVersion: rethinkdb foo2 (debug) (CLANG 3.2 (tags/RELEASE_32/final))\r\nerror: Error in ./src/backfill_progress.hpp at line 16:\r\nerror: Assertion failed: [0 <= estimate_of_released_nodes && estimate_of_released_nodes <= estimate_of_total_nodes] \r\nerror: Backtrace:\r\nerror: Thu Mar 13 20:28:47 2014\r\n       \r\n       1: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:100\r\n       2: backtrace_t::backtrace_t() at backtrace.cc:202\r\n       3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:282\r\n       4: format_backtrace(bool) at backtrace.cc:197\r\n       5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83\r\n       6: progress_completion_fraction_t::progress_completion_fraction_t(int, int) at backfill_progress.hpp:16\r\n       7: progress_completion_fraction_t::progress_completion_fraction_t(int, int) at backfill_progress.hpp:17\r\n       8: parallel_traversal_progress_t::guess_completion() const at parallel_traversal.cc:697\r\n       9: traversal_progress_combiner_t::get_constituent_fraction(int, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*) const at backfill_progress.cc:34\r\n       10: std::_Mem_fn<void (traversal_progress_combiner_t::*)(int, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*) const>::operator()(traversal_progress_combiner_t const*, int, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*) const at functional:597\r\n       11: _ZNKSt5_BindIFSt7_Mem_fnIM29traversal_progress_combiner_tKFviPSt6vectorI30progress_completion_fraction_tSaIS3_EEEEPKS1_St12_PlaceholderILi1EES6_EE8__call_cIvJRKiEJLi0ELi1ELi2EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x9a at functional:1154\r\n       12: _ZNKSt5_BindIFSt7_Mem_fnIM29traversal_progress_combiner_tKFviPSt6vectorI30progress_completion_fraction_tSaIS3_EEEEPKS1_St12_PlaceholderILi1EES6_EEclIJRKiEvEET0_DpOT_+0x3d at functional:1217\r\n       13: void pmap<std::_Bind<std::_Mem_fn<void (traversal_progress_combiner_t::*)(int, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*) const> (traversal_progress_combiner_t const*, std::_Placeholder<1>, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*)> >(int, std::_Bind<std::_Mem_fn<void (traversal_progress_combiner_t::*)(int, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*) const> (traversal_progress_combiner_t const*, std::_Placeholder<1>, std::vector<progress_completion_fraction_t, std::allocator<progress_completion_fraction_t> >*)> const&) at pmap.hpp:41\r\n       14: traversal_progress_combiner_t::guess_completion() const at backfill_progress.cc:44\r\n       15: backfiller_t<rdb_protocol_t>::request_backfill_progress(uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t) at backfiller.cc:239\r\n       16: boost::_mfi::mf3<void, backfiller_t<rdb_protocol_t>, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t>::operator()(backfiller_t<rdb_protocol_t>*, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t) const at mem_fn_template.hpp:393\r\n       17: void boost::_bi::list4<boost::_bi::value<backfiller_t<rdb_protocol_t>*>, boost::arg<1>, boost::arg<2>, boost::_bi::value<auto_drainer_t::lock_t> >::operator()<boost::_mfi::mf3<void, backfiller_t<rdb_protocol_t>, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t>, boost::_bi::list2<uuid_u&, mailbox_addr_t<void (std::pair<int, int>)>&> >(boost::_bi::type<void>, boost::_mfi::mf3<void, backfiller_t<rdb_protocol_t>, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t>&, boost::_bi::list2<uuid_u&, mailbox_addr_t<void (std::pair<int, int>)>&>&, int) at bind.hpp:457\r\n       18: void boost::_bi::bind_t<void, boost::_mfi::mf3<void, backfiller_t<rdb_protocol_t>, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t>, boost::_bi::list4<boost::_bi::value<backfiller_t<rdb_protocol_t>*>, boost::arg<1>, boost::arg<2>, boost::_bi::value<auto_drainer_t::lock_t> > >::operator()<uuid_u, mailbox_addr_t<void (std::pair<int, int>)> >(uuid_u&, mailbox_addr_t<void (std::pair<int, int>)>&) at bind_template.hpp:61\r\n       19: boost::detail::function::void_function_obj_invoker2<boost::_bi::bind_t<void, boost::_mfi::mf3<void, backfiller_t<rdb_protocol_t>, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>, auto_drainer_t::lock_t>, boost::_bi::list4<boost::_bi::value<backfiller_t<rdb_protocol_t>*>, boost::arg<1>, boost::arg<2>, boost::_bi::value<auto_drainer_t::lock_t> > >, void, uuid_u, mailbox_addr_t<void (std::pair<int, int>)> >::invoke(boost::detail::function::function_buffer&, uuid_u, mailbox_addr_t<void (std::pair<int, int>)>) at function_template.hpp:154\r\n       20: boost::function2<void, uuid_u, mailbox_addr_t<void (std::pair<int, int>)> >::operator()(uuid_u, mailbox_addr_t<void (std::pair<int, int>)>) const at function_template.hpp:759\r\n       21: mailbox_t<void (uuid_u, mailbox_addr_t<void (std::pair<int, int>)>)>::read_impl_t::read(read_stream_t*) at typed.hpp:214\r\n       22: mailbox_manager_t::mailbox_read_coroutine(peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long) at mailbox.cc:190\r\n       23: std::_Mem_fn<void (mailbox_manager_t::*)(peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)>::operator()(mailbox_manager_t*, peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long) const at functional:550\r\n       24: _ZNSt5_BindIFSt7_Mem_fnIM17mailbox_manager_tFv9peer_id_t11threadnum_tmPSt6vectorIcSaIcEElEEPS1_S2_S3_mS7_lEE6__callIvJEJLi0ELi1ELi2ELi3ELi4ELi5EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x13b at functional:1145\r\n       25: _ZNSt5_BindIFSt7_Mem_fnIM17mailbox_manager_tFv9peer_id_t11threadnum_tmPSt6vectorIcSaIcEElEEPS1_S2_S3_mS7_lEEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       26: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (mailbox_manager_t::*)(peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> (mailbox_manager_t*, peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> >::run_action() at callable_action.hpp:28\r\n       27: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       28: coro_t::run() at coroutines.cc:197\r\n       29: void coro_t::spawn_now_dangerously<std::_Bind<std::_Mem_fn<void (mailbox_manager_t::*)(peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> (mailbox_manager_t*, peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> >(std::_Bind<std::_Mem_fn<void (mailbox_manager_t::*)(peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> (mailbox_manager_t*, peer_id_t, threadnum_t, unsigned long, std::vector<char, std::allocator<char> >*, long)> const&) at coroutines.hpp:52\r\n       30: mailbox_manager_t::on_message(peer_id_t, read_stream_t*) at mailbox.cc:166\r\n       31: message_multiplexer_t::run_t::on_message(peer_id_t, read_stream_t*) at multiplexer.cc:36\r\n       32: connectivity_cluster_t::run_t::handle(keepalive_tcp_conn_stream_t*, boost::optional<peer_id_t>, boost::optional<peer_address_t>, auto_drainer_t::lock_t, bool*) at cluster.cc:819\r\n       33: connectivity_cluster_t::run_t::on_new_connection(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) at cluster.cc:224\r\n       34: std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)>::operator()(connectivity_cluster_t::run_t*, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) const at functional:550\r\n       35: _ZNSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFvRK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tEEEPS2_St12_PlaceholderILi1EES9_EE6__callIvJRS5_EJLi0ELi1ELi2EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x9d at functional:1145\r\n       36: _ZNSt5_BindIFSt7_Mem_fnIMN22connectivity_cluster_t5run_tEFvRK12scoped_ptr_tI27linux_tcp_conn_descriptor_tEN14auto_drainer_t6lock_tEEEPS2_St12_PlaceholderILi1EES9_EEclIJRS5_EvEET0_DpOT_+0x3d at functional:1203\r\n       37: boost::detail::function::void_function_obj_invoker1<std::_Bind<std::_Mem_fn<void (connectivity_cluster_t::run_t::*)(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t)> (connectivity_cluster_t::run_t*, std::_Placeholder<1>, auto_drainer_t::lock_t)>, void, scoped_ptr_t<linux_tcp_conn_descriptor_t>&>::invoke(boost::detail::function::function_buffer&, scoped_ptr_t<linux_tcp_conn_descriptor_t>&) at function_template.hpp:154\r\n       38: boost::function1<void, scoped_ptr_t<linux_tcp_conn_descriptor_t>&>::operator()(scoped_ptr_t<linux_tcp_conn_descriptor_t>&) const at function_template.hpp:759\r\n       39: linux_nonthrowing_tcp_listener_t::handle(int) at network.cc:925\r\n       40: std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)>::operator()(linux_nonthrowing_tcp_listener_t*, int) const at functional:550\r\n       41: _ZNSt5_BindIFSt7_Mem_fnIM32linux_nonthrowing_tcp_listener_tFviEEPS1_iEE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x6f at functional:1145\r\n       42: _ZNSt5_BindIFSt7_Mem_fnIM32linux_nonthrowing_tcp_listener_tFviEEPS1_iEEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       43: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)> >::run_action() at callable_action.hpp:28\r\n       44: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       45: coro_t::run() at coroutines.cc:197\r\n       46: void coro_t::spawn_now_dangerously<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)> >(std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(int)> (linux_nonthrowing_tcp_listener_t*, int)> const&) at coroutines.hpp:52\r\n       47: linux_nonthrowing_tcp_listener_t::accept_loop(auto_drainer_t::lock_t) at network.cc:893\r\n       48: std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)>::operator()(linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t) const at functional:550\r\n       49: _ZNSt5_BindIFSt7_Mem_fnIM32linux_nonthrowing_tcp_listener_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x7c at functional:1145\r\n       50: _ZNSt5_BindIFSt7_Mem_fnIM32linux_nonthrowing_tcp_listener_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       51: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)> >::run_action() at callable_action.hpp:28\r\n       52: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       53: coro_t::run() at coroutines.cc:197\r\n       54: coro_t* coro_t::spawn_sometime<std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)> >(std::_Bind<std::_Mem_fn<void (linux_nonthrowing_tcp_listener_t::*)(auto_drainer_t::lock_t)> (linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t)> const&) at coroutines.hpp:58\r\n       55: linux_nonthrowing_tcp_listener_t::begin_listening() at network.cc:674\r\n       56: linux_tcp_listener_t::linux_tcp_listener_t(linux_tcp_bound_socket_t*, boost::function<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&)> const&) at network.cc:969\r\n       57: connectivity_cluster_t::run_t::run_t(connectivity_cluster_t*, std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, peer_address_t const&, int, message_handler_t*, int, heartbeat_manager_t*) at cluster.cc:119\r\n       58: do_serve(io_backender_t*, bool, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, peer_address_set_t const&, service_address_ports_t, std::string, os_signal_cond_t*, boost::optional<std::string> const&) at serve.cc:153\r\n       59: serve(io_backender_t*, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, peer_address_set_t const&, service_address_ports_t, std::string, os_signal_cond_t*, boost::optional<std::string> const&) at serve.cc:489\r\n       60: run_rethinkdb_serve(base_path_t const&, serve_info_t const&, file_direct_io_mode_t, int, uuid_u const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:764\r\n       61: run_rethinkdb_porcelain(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*) at command_line.cc:821\r\n       62: _ZNSt5_BindIFPFvRK11base_path_tRK13name_string_t21file_direct_io_mode_tibRK12serve_info_tP16directory_lock_tPbES0_S3_S6_ibS7_SB_SC_EE6__callIvJEJLi0ELi1ELi2ELi3ELi4ELi5ELi6ELi7EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x19f at functional:1145\r\n       63: _ZNSt5_BindIFPFvRK11base_path_tRK13name_string_t21file_direct_io_mode_tibRK12serve_info_tP16directory_lock_tPbES0_S3_S6_ibS7_SB_SC_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       64: std::_Function_handler<void (), std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)> >::_M_invoke(std::_Any_data const&) at functional:1779\r\n       65: std::function<void ()>::operator()() const at functional:2160\r\n       66: starter_t::run_wrapper(std::function<void ()> const&) at runtime.cc:61\r\n       67: std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)>::operator()(starter_t*, std::function<void ()> const&) const at functional:550\r\n       68: _ZNSt5_BindIFSt7_Mem_fnIM9starter_tFvRKSt8functionIFvvEEEEPS1_S4_EE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x70 at functional:1145\r\n       69: _ZNSt5_BindIFSt7_Mem_fnIM9starter_tFvRKSt8functionIFvvEEEEPS1_S4_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       70: std::_Function_handler<void (), std::_Bind<std::_Mem_fn<void (starter_t::*)(std::function<void ()> const&)> (starter_t*, std::function<void ()>)> >::_M_invoke(std::_Any_data const&) at functional:1779\r\n       71: std::function<void ()>::operator()() const at functional:2160\r\n       72: callable_action_instance_t<std::function<void ()> >::run_action() at callable_action.hpp:28\r\n       73: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       74: coro_t::run() at coroutines.cc:197\r\n       75: coro_t* coro_t::spawn_sometime<std::function<void ()> >(std::function<void ()> const&) at coroutines.hpp:58\r\n       76: starter_t::on_thread_switch() at runtime.cc:57\r\n       77: linux_message_hub_t::on_event(int) at message_hub.cc:154\r\n       78: epoll_event_queue_t::run() at epoll.cc:115\r\n       79: linux_thread_pool_t::start_thread(void*) at thread_pool.cc:153\r\n       80: /lib/x86_64-linux-gnu/libpthread.so.0(+0x7e9a) [0x7f4599585e9a] at 0x7f4599585e9a (/lib/x86_64-linux-gnu/libpthread.so.0)\r\n       81: clone+0x6d at 0x7f45992b23fd (/lib/x86_64-linux-gnu/libc.so.6)\r\nerror: Exiting.\r\n```\r\n\r\nI'm beginning to wonder if backfilling has ever really worked in debug mode..."
  , issueState = "closed"
  , issueId = Id 29408805
  , issueComments = 10
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 706854
                , simpleUserLogin = N "AtnNn"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/706854?v=3"
                , simpleUserUrl = "https://api.github.com/users/AtnNn"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 1
          , milestoneNumber = 17
          , milestoneClosedIssues = 593
          , milestoneDescription =
              Just
                "The scope of this issue is covered by another issue. The closing comment should link to the other issue."
          , milestoneTitle = "duplicate"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/17"
          , milestoneCreatedAt = 2013 (-03) (-29) 20 : 23 : 12 UTC
          , milestoneState = "closed"
          }
  }