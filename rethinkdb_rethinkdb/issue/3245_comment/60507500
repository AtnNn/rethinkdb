IssueComment
  { issueCommentUpdatedAt = 2014 (-10) (-26) 08 : 59 : 28 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 488554
        , simpleUserLogin = N "gotlium"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/488554?v=3"
        , simpleUserUrl = "https://api.github.com/users/gotlium"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/60507500"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3245#issuecomment-60507500"
  , issueCommentCreatedAt = 2014 (-10) (-26) 05 : 54 : 01 UTC
  , issueCommentBody =
      "That is my table:\r\n\r\n    CREATE TABLE `table` (\r\n      `name` varchar(100) NOT NULL DEFAULT '',\r\n      `date` date NOT NULL,\r\n      `f1` int(6) unsigned NOT NULL DEFAULT '0',\r\n      `f2` int(6) unsigned NOT NULL DEFAULT '0',\r\n      `f3` int(4) unsigned NOT NULL DEFAULT '0',\r\n      `slug` varchar(32) NOT NULL,\r\n      KEY `slug` (`slug`,`date`),\r\n      KEY (`slug`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nExample of data http://pastebin.com/8pgHPaXC for ``SELECT * FROM table WHERE slug = 'd4436de862fbc706d76608a8818a1158' AND `date` BETWEEN '2014-01-01' AND '2014-12-01';``\r\n\r\nTotal count: 2.004.190\r\nTotal size: 215MB\r\n\r\nThat MySQL Query (on this example Sum only for F1 field):\r\n\r\n    SELECT\r\n        `name`,\r\n        SUM(`f1`) AS `f1`\r\n    FROM\r\n        TABLE\r\n    WHERE\r\n        slug = \"d4436de862fbc706d76608a8818a1158\"\r\n    AND `date` BETWEEN \"2014-01-01\"\r\n    AND \"2014-12-01\"\r\n    GROUP BY\r\n        `name`;\r\n\r\n\r\nRethinkDB query:\r\n\r\n    r.table(\"table\").between(\r\n        ['d4436de862fbc706d76608a8818a1158', r.time(2014, 1, 1, 'Z')],\r\n        ['d4436de862fbc706d76608a8818a1158', r.time(2014, 12, 1, 'Z')],\r\n        {index: 'slug_data', rightBound: 'closed'}\r\n    ).group('name').sum('f1')\r\n\r\n\r\n154 rows for queries above\r\ntotal 2 million rows between 2014-01-01 and 2014-10-20\r\n\r\n**MySQL Config:**\r\n\r\n    [client]\r\n    default-character-set   = utf8\r\n        \r\n    [mysqld]\r\n    port                    = 3306\r\n    \r\n    default-storage-engine  = InnoDB\r\n    symbolic-links          = 0\r\n    skip-external-locking   = 1\r\n    skip-character-set-client-handshake = 1\r\n\r\n    collation-server        = utf8_unicode_ci\r\n    init-connect            = 'SET NAMES utf8'\r\n    character-set-server    = utf8\r\n   \r\n    net_read_timeout        = 30\r\n    net_write_timeout       = 30\r\n    connect_timeout         = 30\r\n    wait_timeout            = 30\r\n    max_connections         = 1000\r\n    max_allowed_packet      = 512M\r\n    max_connect_s      = 1000000000\r\n    net_buffer_length       = 24\r\n    skip-name-resolve       = 1\r\n    skip-host-cache\r\n    \r\n    collation_server        = utf8_general_ci\r\n    character_set_server    = utf8\r\n    init-connect            = \"SET NAMES utf8\"\r\n    key_buffer              = 512M\r\n    key_buffer_size         = 512M\r\n    thread_stack            = 256K\r\n    thread_cache_size       = 96\r\n    myisam-recover          = BACKUP\r\n    #table_cache             = 512M\r\n    read_buffer_size        = 2M\r\n    max_heap_table_size     = 1G\r\n    table_open_cache        = 400\r\n    tmp_table_size          = 1G\r\n    read_rnd_buffer_size    = 12M\r\n    sort_buffer_size        = 12M\r\n    myisam_sort_buffer_size = 12M\r\n    event_scheduler         = 0\r\n    query_cache_type        = 1\r\n    join_buffer_size        = 1M\r\n    open_files_limit        = 100000\r\n    \r\n    query_cache_limit       = 32M\r\n    query_cache_size        = 512M\r\n    query_cache_wlock_invalidate = 0\r\n    \r\n    expire_logs_days          = 15\r\n    max_binlog_size           = 128M\r\n    \r\n    \r\n    #\r\n    # * InnoDB\r\n    #\r\n    innodb_file_per_table     = 1\r\n    innodb_status_file        = 1\r\n    innodb_additional_mem_pool_size = 128M\r\n    innodb_flush_method       = O_DIRECT\r\n    innodb_log_file_size      = 512M\r\n    innodb_buffer_pool_size   = 3G\r\n    innodb_io_capacity        = 2000\r\n    innodb_flush_log_at_trx_commit = 2\r\n    innodb_support_xa         = 0\r\n    innodb_log_buffer_size    = 128M\r\n\r\n**Sysctl:**\r\n\r\n    kern.ipc.maxsockbuf=8388608\r\n    net.inet.tcp.sendspace=2000000\r\n    net.inet.tcp.recvspace=2000000\r\n    kern.maxfiles=100000\r\n    kern.maxfilesperproc=50000\r\n    kern.ipc.somaxconn=30000\r\n    net.inet.tcp.rfc1323=1\r\n    net.inet.tcp.win_scale_factor=8\r\n"
  , issueCommentId = 60507500
  }