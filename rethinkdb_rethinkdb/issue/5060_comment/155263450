IssueComment
  { issueCommentUpdatedAt = 2015 (-11) (-10) 02 : 28 : 46 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/155263450"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/5060#issuecomment-155263450"
  , issueCommentCreatedAt = 2015 (-11) (-10) 02 : 28 : 46 UTC
  , issueCommentBody =
      "Similar, but slightly different backtrace:\r\n```C++\r\nVersion: rethinkdb 2.1.0-0BETA2-430-gf8a6f6-dirty (debug) (CLANG 3.2 (tags/RELEASE_32/final))\r\nerror: Error in src/buffer_cache/page.cc at line 385:\r\nerror: Assertion failed: [waiters_.empty()] \r\nerror: Backtrace:\r\nDisconnected from server \"b\" 8c3b9498-c6de-4eb5-9ee2-6660655714cd\r\nDisconnected from server \"g\" 63a62e0d-e07a-4180-85d0-feb79fb8b536\r\nerror: Mon Nov  9 17:56:17 2015\r\n       \r\n       1 [0x16f610b]: rethinkdb_backtrace(void**, int) at rethinkdb_backtrace.cc:100\r\n       2 [0x22236cb]: backtrace_t::backtrace_t() at backtrace.cc:203\r\n       3 [0x22241b5]: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:283\r\n       4 [0x2223357]: format_backtrace(bool) at backtrace.cc:198\r\n       5 [0x180208e]: report_fatal_error(char const*, int, char const*, ...) at errors.cc:83\r\n       6 [0x16a6ae7]: alt::page_t::remove_snapshotter(alt::page_cache_t*) at page.cc:385\r\n       7 [0x16a6394]: alt::page_ptr_t::reset_page_ptr(alt::page_cache_t*) at page.cc:672\r\n       8 [0x16a8532]: alt::timestamped_page_ptr_t::reset_page_ptr(alt::page_cache_t*) at page.cc:736\r\n       9 [0x16b6eef]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x16b6eef] at 0x16b6eef ()\r\n       10 [0x16b6c1c]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x16b6c1c] at 0x16b6c1c ()\r\n       11 [0x16148b2]: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       12 [0x16151e7]: coro_t::run() at coroutines.cc:205\r\n       13 [0x16b69d0]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x16b69d0] at 0x16b69d0 ()\r\n       14 [0x16b699d]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x16b699d] at 0x16b699d ()\r\n       15 [0x16b666d]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x16b666d] at 0x16b666d ()\r\n       16 [0x15c76fe]: std::function<void ()>::operator()() const at functional:2160\r\n       17 [0x17f273e]: merger_serializer_t::index_write(new_mutex_in_line_t*, std::function<void ()> const&, std::vector<index_write_op_t, std::allocator<index_write_op_t> > const&) at merger.cc:59\r\n       18 [0x17f73dd]: translator_serializer_t::index_write(new_mutex_in_line_t*, std::function<void ()> const&, std::vector<index_write_op_t, std::allocator<index_write_op_t> > const&) at translator.cc:247\r\n       19 [0x16b58c2]: alt::page_cache_t::do_flush_changes(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > > const&, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> > const&, fifo_enforcer_write_token_t) at page_cache.cc:1337\r\n       20 [0x16b5ae0]: alt::page_cache_t::do_flush_txn_set(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> > const&) at page_cache.cc:1409\r\n       21 [0x16bac83]: _ZNSt5_BindIFPFvPN3alt12page_cache_tEPSt3mapImNS1_14block_change_tESt4lessImESaISt4pairIKmS4_EEERKSt6vectorIPNS0_10page_txn_tESaISF_EEES2_SC_SH_EE6__callIvJEJLi0ELi1ELi2EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0xa3 at functional:1145\r\n       22 [0x16babd6]: _ZNSt5_BindIFPFvPN3alt12page_cache_tEPSt3mapImNS1_14block_change_tESt4lessImESaISt4pairIKmS4_EEERKSt6vectorIPNS0_10page_txn_tESaISF_EEES2_SC_SH_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       23 [0x16baafc]: callable_action_instance_t<std::_Bind<void (*(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> >))(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> > const&)> >::run_action() at callable_action.hpp:31\r\n       24 [0x16148b2]: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       25 [0x16151e7]: coro_t::run() at coroutines.cc:205\r\n       26 [0x16ba7dd]: void coro_t::spawn_now_dangerously<std::_Bind<void (*(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> >))(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> > const&)> >(std::_Bind<void (*(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> >))(alt::page_cache_t*, std::map<unsigned long, alt::page_cache_t::block_change_t, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, alt::page_cache_t::block_change_t> > >*, std::vector<alt::page_txn_t*, std::allocator<alt::page_txn_t*> > const&)>&&) at coroutines.hpp:53\r\n       27 [0x16b3811]: alt::page_cache_t::im_waiting_for_flush(alt::page_txn_t*) at page_cache.cc:1547\r\n       28 [0x16af92f]: alt::page_txn_t::announce_waiting_for_flush() at page_cache.cc:1065\r\n       29 [0x16af6ed]: alt::page_cache_t::flush_and_destroy_txn(scoped_ptr_t<alt::page_txn_t>, std::function<void (alt::throttler_acq_t*)>) at page_cache.cc:326\r\n       30 [0x168e6a1]: txn_t::~txn_t() at alt.cc:250\r\n       31 [0x1da129b]: scoped_ptr_t<txn_t>::reset() at scoped.hpp:72\r\n       32 [0x1da28a1]: scoped_ptr_t<txn_t>::~scoped_ptr_t() at scoped.hpp:34\r\n       33 [0x1d9ef45]: scoped_ptr_t<txn_t>::~scoped_ptr_t() at scoped.hpp:35\r\n       34 [0x1e0560a]: store_t::reset_data(binary_blob_t const&, hash_region_t<key_range_t> const&, write_durability_t, signal_t*) at btree_store.cc:281\r\n       35 [0x1c4e64c]: store_subview_t::reset_data(binary_blob_t const&, hash_region_t<key_range_t> const&, write_durability_t, signal_t*) at store_subview.hpp:182\r\n       36 [0x1c2fb4f]: erase_execution_t::run(auto_drainer_t::lock_t) at exec_erase.cc:33\r\n       37 [0x1c304ab]: std::_Mem_fn<void (erase_execution_t::*)(auto_drainer_t::lock_t)>::operator()(erase_execution_t*, auto_drainer_t::lock_t) const at functional:550\r\n       38 [0x1c303dc]: _ZNSt5_BindIFSt7_Mem_fnIM17erase_execution_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x7c at functional:1145\r\n       39 [0x1c30356]: _ZNSt5_BindIFSt7_Mem_fnIM17erase_execution_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       40 [0x1c3027c]: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (erase_execution_t::*)(auto_drainer_t::lock_t)> (erase_execution_t*, auto_drainer_t::lock_t)> >::run_action() at callable_action.hpp:31\r\n       41 [0x16148b2]: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       42 [0x16151e7]: coro_t::run() at coroutines.cc:205\r\n       43 [0x1c2fedd]: coro_t* coro_t::spawn_sometime<std::_Bind<std::_Mem_fn<void (erase_execution_t::*)(auto_drainer_t::lock_t)> (erase_execution_t*, auto_drainer_t::lock_t)> >(std::_Bind<std::_Mem_fn<void (erase_execution_t::*)(auto_drainer_t::lock_t)> (erase_execution_t*, auto_drainer_t::lock_t)>&&) at coroutines.hpp:59\r\n       44 [0x1c2f973]: erase_execution_t::erase_execution_t(execution_t::context_t const*, execution_t::params_t*, uuid_u const&, table_raft_state_t const&) at exec_erase.cc:14\r\n       45 [0x1c4a734]: contract_executor_t::execution_wrapper_t::execution_wrapper_t(contract_executor_t*, contract_executor_t::execution_key_t const&, uuid_u const&, uuid_u const&, table_raft_state_t const&) at executor.cc:35\r\n       46 [0x1c4a2ad]: contract_executor_t::execution_wrapper_t::execution_wrapper_t(contract_executor_t*, contract_executor_t::execution_key_t const&, uuid_u const&, uuid_u const&, table_raft_state_t const&) at executor.cc:40\r\n       47 [0x1c4a1fa]: _Z11make_scopedIN19contract_executor_t19execution_wrapper_tEJPS0_RNS0_15execution_key_tER6uuid_uRKS5_RK18table_raft_state_tEE12scoped_ptr_tIT_EDpOT0_+0xca at scoped.hpp:122\r\n       48 [0x1c46baf]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c46baf] at 0x1c46baf ()\r\n       49 [0x1c465b2]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c465b2] at 0x1c465b2 ()\r\n       50 [0x1caf378]: std::function<void (table_raft_state_t const*)>::operator()(table_raft_state_t const*) const at functional:2160\r\n       51 [0x1c69cde]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c69cde] at 0x1c69cde ()\r\n       52 [0x1c45204]: contract_executor_t::update_blocking(signal_t*) at executor.cc:261\r\n       53 [0x1c5756a]: std::_Mem_fn<void (contract_executor_t::*)(signal_t*)>::operator()(contract_executor_t*, signal_t*) const at functional:550\r\n       54 [0x1c574d0]: _ZNSt5_BindIFSt7_Mem_fnIM19contract_executor_tFvP8signal_tEEPS1_St12_PlaceholderILi1EEEE6__callIvJOS3_EJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x70 at functional:1145\r\n       55 [0x1c5744d]: _ZNSt5_BindIFSt7_Mem_fnIM19contract_executor_tFvP8signal_tEEPS1_St12_PlaceholderILi1EEEEclIJS3_EvEET0_DpOT_+0x3d at functional:1203\r\n       56 [0x1c56f22]: std::_Function_handler<void (signal_t*), std::_Bind<std::_Mem_fn<void (contract_executor_t::*)(signal_t*)> (contract_executor_t*, std::_Placeholder<1>)> >::_M_invoke(std::_Any_data const&, signal_t*) at functional:1779\r\n       57 [0x16d7b58]: std::function<void (signal_t*)>::operator()(signal_t*) const at functional:2160\r\n       58 [0x16d7372]: pump_coro_t::run(auto_drainer_t::lock_t) at pump_coro.cc:90\r\n       59 [0x16d8d5b]: std::_Mem_fn<void (pump_coro_t::*)(auto_drainer_t::lock_t)>::operator()(pump_coro_t*, auto_drainer_t::lock_t) const at functional:550\r\n       60 [0x16d8c8c]: _ZNSt5_BindIFSt7_Mem_fnIM11pump_coro_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EE6__callIvJEJLi0ELi1EEEET_OSt5tupleIJDpT0_EESt12_Index_tupleIJXspT1_EEE+0x7c at functional:1145\r\n       61 [0x16d8c06]: _ZNSt5_BindIFSt7_Mem_fnIM11pump_coro_tFvN14auto_drainer_t6lock_tEEEPS1_S3_EEclIJEvEET0_DpOT_+0x26 at functional:1203\r\n       62 [0x16d8b2c]: callable_action_instance_t<std::_Bind<std::_Mem_fn<void (pump_coro_t::*)(auto_drainer_t::lock_t)> (pump_coro_t*, auto_drainer_t::lock_t)> >::run_action() at callable_action.hpp:31\r\n       63 [0x16148b2]: callable_action_wrapper_t::run() at runtime_utils.cc:43\r\n       64 [0x16151e7]: coro_t::run() at coroutines.cc:205\r\n       65 [0x16d795d]: coro_t* coro_t::spawn_sometime<std::_Bind<std::_Mem_fn<void (pump_coro_t::*)(auto_drainer_t::lock_t)> (pump_coro_t*, auto_drainer_t::lock_t)> >(std::_Bind<std::_Mem_fn<void (pump_coro_t::*)(auto_drainer_t::lock_t)> (pump_coro_t*, auto_drainer_t::lock_t)>&&) at coroutines.hpp:59\r\n       66 [0x16d70aa]: pump_coro_t::notify() at pump_coro.cc:31\r\n       67 [0x1c48648]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c48648] at 0x1c48648 ()\r\n       68 [0x1c4836d]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c4836d] at 0x1c4836d ()\r\n       69 [0x15c76fe]: std::function<void ()>::operator()() const at functional:2160\r\n       70 [0x17832d5]: call_function(std::function<void ()> const&) at watchable.hpp:185\r\n       71 [0x178323a]: void publisher_controller_t<std::function<void ()> >::publish<void (*)(std::function<void ()> const&)>(void (* const&)(std::function<void ()> const&)) at pubsub.hpp:139\r\n       72 [0x1c6a34a]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c6a34a] at 0x1c6a34a ()\r\n       73 [0x1c6b832]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c6b832] at 0x1c6b832 ()\r\n       74 [0x1c6b7b3]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c6b7b3] at 0x1c6b7b3 ()\r\n       75 [0x1c6b766]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c6b766] at 0x1c6b766 ()\r\n       76 [0x1c6b32d]: /home/ssd3/daniel/rethinkdb/build/debug_clang/rethinkdb() [0x1c6b32d] at 0x1c6b32d ()\r\nerror: Exiting.\r\n```"
  , issueCommentId = 155263450
  }