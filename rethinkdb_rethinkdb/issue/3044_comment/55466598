IssueComment
  { issueCommentUpdatedAt = 2014 (-09) (-12) 22 : 04 : 22 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 7032
        , simpleUserLogin = N "anatol"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/7032?v=3"
        , simpleUserUrl = "https://api.github.com/users/anatol"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/55466598"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3044#issuecomment-55466598"
  , issueCommentCreatedAt = 2014 (-09) (-12) 22 : 04 : 22 UTC
  , issueCommentBody =
      "`control reaches end of non-void function` is the only error I see. It indeed looks like a GCC bug (but do not quote me here). Adding Allan - Arch GCC maintainer +@allanbrokeit \r\n\r\n```\r\n./src/http/json/json_adapter.hpp:446:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216bool*\8217\r\n./src/http/json/json_adapter.hpp:451:6: note: void apply_json_to(cJSON*, uuid_u*)\r\n void apply_json_to(cJSON *, uuid_u *);\r\n      ^\r\n./src/http/json/json_adapter.hpp:451:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216uuid_u*\8217\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc:640:6: note: template<class T> void apply_json_to(cJSON*, cow_ptr_t<T>*)\r\n void apply_json_to(cJSON *json, cow_ptr_t<T> *ptr) {\r\n      ^\r\n./src/http/json/json_adapter.tcc:640:6: note:   template argument deduction/substitution failed:\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc:38:82: note:   \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>\8217 is not derived from \8216cow_ptr_t<T>\8217\r\n void json_adapter_t<T>::apply_impl(cJSON *change) { apply_json_to(change, target_); }\r\n                                                                                  ^\r\nIn file included from ./src/clustering/administration/http/json_adapters.tcc:12:0,\r\n                 from ./src/clustering/administration/http/json_adapters.hpp:114,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:8:\r\n./src/region/region_json_adapter.hpp:36:6: note: void apply_json_to(cJSON*, hash_region_t<key_range_t>*)\r\n void apply_json_to(cJSON *, hash_region_t<key_range_t> *);\r\n      ^\r\n./src/region/region_json_adapter.hpp:36:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216hash_region_t<key_range_t>*\8217\r\n./src/region/region_json_adapter.hpp:29:6: note: void apply_json_to(cJSON*, key_range_t*)\r\n void apply_json_to(cJSON *change, key_range_t *target);\r\n      ^\r\n./src/region/region_json_adapter.hpp:29:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216key_range_t*\8217\r\n./src/region/region_json_adapter.hpp:17:6: note: void apply_json_to(cJSON*, store_key_t*)\r\n void apply_json_to(cJSON *, store_key_t *);\r\n      ^\r\n./src/region/region_json_adapter.hpp:17:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216store_key_t*\8217\r\nIn file included from ./src/clustering/administration/http/json_adapters.hpp:114:0,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:8:\r\n./src/clustering/administration/http/json_adapters.tcc:226:13: note: void apply_json_to(cJSON*, peer_id_t*)\r\n inline void apply_json_to(cJSON *change, peer_id_t *target) {\r\n             ^\r\n./src/clustering/administration/http/json_adapters.tcc:226:13: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216peer_id_t*\8217\r\n./src/clustering/administration/http/json_adapters.tcc:199:6: note: template<class T> void apply_json_to(cJSON*, deletable_t<T>*)\r\n void apply_json_to(cJSON *change, deletable_t<T> *target) {\r\n      ^\r\n./src/clustering/administration/http/json_adapters.tcc:199:6: note:   template argument deduction/substitution failed:\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc:38:82: note:   \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>\8217 is not derived from \8216deletable_t<T>\8217\r\n void json_adapter_t<T>::apply_impl(cJSON *change) { apply_json_to(change, target_); }\r\n                                                                                  ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:217:6: note: void apply_json_to(cJSON*, reactor_business_card_t*)\r\n void apply_json_to(cJSON *change, reactor_business_card_t *target) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:217:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:195:6: note: void apply_json_to(cJSON*, reactor_activity_entry_t*)\r\n void apply_json_to(cJSON *change, reactor_activity_entry_t *target) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:195:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_activity_entry_t*\8217\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc:380:6: note: template<class T1, class T2, class T3, class T4, class T5, class T6, class T7, class T8, class T9, class T10, class T11, class T12, class T13, class T14, class T15, class T16, class T17, class T18, class T19, class T20> void boost::apply_json_to(cJSON*, boost::variant<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19, T20>*)\r\n void apply_json_to(cJSON *, boost::variant<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19, T20> *) {\r\n      ^\r\n./src/http/json/json_adapter.tcc:380:6: note:   template argument deduction/substitution failed:\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc:38:82: note:   candidate expects 19 arguments, 7 provided\r\n void json_adapter_t<T>::apply_impl(cJSON *change) { apply_json_to(change, target_); }\r\n                                                                                  ^\r\n./src/http/json/json_adapter.tcc:38:82: note:   \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>\8217 is not derived from \8216boost::variant<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19, T20>\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:171:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::nothing_when_done_erasing_t*)\r\n void apply_json_to(cJSON *, nothing_when_done_erasing_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:171:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::nothing_when_done_erasing_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:155:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::nothing_t*)\r\n void apply_json_to(cJSON *, nothing_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:155:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::nothing_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:139:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::nothing_when_safe_t*)\r\n void apply_json_to(cJSON *, nothing_when_safe_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:139:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::nothing_when_safe_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:119:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::secondary_backfilling_t*)\r\n void apply_json_to(cJSON *, secondary_backfilling_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:119:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::secondary_backfilling_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:102:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::secondary_without_primary_t*)\r\n void apply_json_to(cJSON *, secondary_without_primary_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:102:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::secondary_without_primary_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:83:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::secondary_up_to_date_t*)\r\n void apply_json_to(cJSON *, secondary_up_to_date_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:83:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::secondary_up_to_date_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:64:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::primary_t*)\r\n void apply_json_to(cJSON *, primary_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:64:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::primary_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:44:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::primary_when_safe_t*)\r\n void apply_json_to(cJSON *, primary_when_safe_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:44:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::primary_when_safe_t*\8217\r\nsrc/clustering/reactor/reactor_json_adapters.cc:27:6: note: void reactor_business_card_details::apply_json_to(cJSON*, reactor_business_card_details::backfill_location_t*)\r\n void apply_json_to(cJSON *, backfill_location_t *) {\r\n      ^\r\nsrc/clustering/reactor/reactor_json_adapters.cc:27:6: note:   no known conversion for argument 2 from \8216boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>*\8217 to \8216reactor_business_card_details::backfill_location_t*\8217\r\nIn file included from ./src/http/json/json_adapter.hpp:586:0,\r\n                 from ./src/clustering/reactor/metadata.hpp:16,\r\n                 from ./src/clustering/reactor/reactor_json_adapters.hpp:5,\r\n                 from src/clustering/reactor/reactor_json_adapters.cc:2:\r\n./src/http/json/json_adapter.tcc: In member function \8216cJSON* json_adapter_t<T>::render_impl() [with T = boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>]\8217:\r\n./src/http/json/json_adapter.tcc:35:75: error: control reaches end of non-void function [-Werror=return-type]\r\n cJSON *json_adapter_t<T>::render_impl() { return render_as_json(target_); }\r\n                                                                           ^\r\n./src/http/json/json_adapter.tcc: In member function \8216json_adapter_if_t::json_adapter_map_t json_adapter_t<T>::get_subfields_impl() [with T = boost::variant<reactor_business_card_details::primary_when_safe_t, reactor_business_card_details::primary_t, reactor_business_card_details::secondary_up_to_date_t, reactor_business_card_details::secondary_without_primary_t, reactor_business_card_details::secondary_backfilling_t, reactor_business_card_details::nothing_when_safe_t, reactor_business_card_details::nothing_t, reactor_business_card_details::nothing_when_done_erasing_t>; json_adapter_if_t::json_adapter_map_t = std::map<std::basic_string<char>, boost::shared_ptr<json_adapter_if_t> >]\8217:\r\n./src/http/json/json_adapter.tcc:50:1: error: control reaches end of non-void function [-Werror=return-type]\r\n }\r\n ^\r\ncc1plus: all warnings being treated as errors\r\nsrc/build.mk:379: recipe for target 'build/release/obj/clustering/reactor/reactor_json_adapters.o' failed\r\nmake[1]: *** [build/release/obj/clustering/reactor/reactor_json_adapters.o] Error 1\r\nMakefile:52: recipe for target 'make' failed\r\nmake: *** [make] Error 2\r\n==> ERROR: A failure occurred in build().\r\n    Aborting...\r\n```"
  , issueCommentId = 55466598
  }