IssueComment
  { issueCommentUpdatedAt = 2014 (-12) (-30) 03 : 07 : 27 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/68326370"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/3020#issuecomment-68326370"
  , issueCommentCreatedAt = 2014 (-12) (-30) 03 : 07 : 27 UTC
  , issueCommentBody =
      "Here's something that can go wrong in `calculate_split_points_with_distribution` I think:\r\n\r\nThe for loop `for (size_t split_index = 1; split_index < num_shards; ++split_index)` has this assertion: `rassert(pairs[left_pair].first <= split_count);`.\r\nIf the assertion is false, we will call `interpolate_key` with a negative `fraction`, which might generate bad keys as a consequence (though I'm not certain if they can lead to this crash).\r\n\r\nI think the assertion doesn't generally hold. Imagine the first pair having more documents than `total_count/num_shards`."
  , issueCommentId = 68326370
  }