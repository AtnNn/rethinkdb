Issue
  { issueClosedAt = Just 2014 (-05) (-21) 20 : 33 : 23 UTC
  , issueUpdatedAt = 2014 (-05) (-21) 20 : 41 : 25 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2416/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/2416"
  , issueClosedBy = Nothing
  , issueLabels = []
  , issueNumber = 2416
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 7431361
          , simpleUserLogin = N "larkost"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/7431361?v=3"
          , simpleUserUrl = "https://api.github.com/users/larkost"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 1461947
        , simpleUserLogin = N "neumino"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1461947?v=3"
        , simpleUserUrl = "https://api.github.com/users/neumino"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "test-runner - pass the port to the tests"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/2416"
  , issueCreatedAt = 2014 (-05) (-19) 23 : 12 : 26 UTC
  , issueBody =
      Just
        "Running\r\n```\r\nmichel@newton:~/rethinkdb/next/rethinkdb/test/rql_test$ ./test-runner -i js\r\n```\r\n\r\nI get errors like\r\n\r\n```\r\n== Running polygot/control.js test\r\n== Failed polygot/control.js test with result code 1 (/home/ssd3/michel/rethinkdb/next/rethinkdb/test/rql_test/src/control.yaml) Output:\r\nFailed to connect to server: { name: 'RqlDriverError',\r\n  msg: 'Could not connect to localhost:28015.\\nconnect ECONNREFUSED',\r\n  message: 'Could not connect to localhost:28015.\\nconnect ECONNREFUSED' }\r\n```\r\n\r\n\r\nI thought I had to manually provide a cluster port and driver port, but even when I do it, it seems that the tests are still trying to connect to `localhost:28015`.\r\n\r\nI guess they are not given the port to connect to?\r\n\r\n\r\n\r\nOn a side note, if I run\r\n```\r\n ./test-runner -i js -c 43935 -d 42935\r\n```\r\nThe script is going to fail because the build_directory is not provided.\r\n\r\nThis worked for me though:\r\n```\r\n ./test-runner -i js -c 43935 -d 42935 -b $bj../../build/debug\r\n```\r\n\r\n\r\nHere are the changes in test-runner I did to be able to run the codes.\r\n\r\n```\r\n--- a/test/rql_test/test-runner\r\n+++ b/test/rql_test/test-runner\r\n@@ -338,7 +338,7 @@ class TestGroup:\r\n         return None\r\n \r\n class RethinkDBRunningServer:\r\n-    def __init__(self, driver_port, cluster_port):\r\n+    def __init__(self, driver_port, cluster_port, rethinkdb_executable):\r\n         self.driver_port_ = driver_port\r\n         self.cluster_port_ = cluster_port\r\n         self.rethinkdb_executable_ = rethinkdb_executable\r\n@@ -513,8 +513,8 @@ def main():\r\n     if (options.cluster_port is not None or options.driver_port is not None) and None in (options.cluster_port, options.driver_port):\r\n         parser.error('If either of the following options are used, both must be specifed: -c/--cluster-port, -d/--driver-port')\r\n     if options.driver_port is not None:\r\n-        build_directory = options.executable_path\r\n-        servers = RethinkDBRunningServer(options.driver_port, options.cluster_port)\r\n+        build_directory = options.build_directory\r\n+        servers = RethinkDBRunningServer(options.driver_port, options.cluster_port, build_directory)\r\n```\r\n\r\n\r\nPing @larkost -- sorry to bother you again, could you take a look when you have some time?"
  , issueState = "closed"
  , issueId = Id 33845883
  , issueComments = 2
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 706854
                , simpleUserLogin = N "AtnNn"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/706854?v=3"
                , simpleUserUrl = "https://api.github.com/users/AtnNn"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Nothing
          , milestoneOpenIssues = 0
          , milestoneNumber = 27
          , milestoneClosedIssues = 127
          , milestoneDescription =
              Just
                "These issues are not reproducible or happen in platforms or configurations that are not supported."
          , milestoneTitle = "worksforme"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/27"
          , milestoneCreatedAt = 2013 (-04) (-08) 21 : 57 : 50 UTC
          , milestoneState = "closed"
          }
  }