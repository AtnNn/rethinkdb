Issue
  { issueClosedAt = Just 2013 (-05) (-10) 15 : 24 : 56 UTC
  , issueUpdatedAt = 2013 (-05) (-10) 15 : 24 : 56 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/718/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/718"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e10c02"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/pr:high"
          , labelName = "pr:high"
          }
      , IssueLabel
          { labelColor = "e102d8"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:bug"
          , labelName = "tp:bug"
          }
      ]
  , issueNumber = 718
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 1777134
          , simpleUserLogin = N "mlucy"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/1777134?v=3"
          , simpleUserUrl = "https://api.github.com/users/mlucy"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 1777134
        , simpleUserLogin = N "mlucy"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1777134?v=3"
        , simpleUserUrl = "https://api.github.com/users/mlucy"
        , simpleUserType = OwnerUser
        }
  , issueTitle =
      "Secondary Index Functions Don't Reference Variables Properly"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/718"
  , issueCreatedAt = 2013 (-04) (-26) 05 : 47 : 01 UTC
  , issueBody =
      Just
        "I'm working on implementing the sindex driver interface.  Example:\r\n\r\n```ruby\r\nirb(main):020:0> r(4).do{|x| tbl.index_create('ex') {|row| row[:id] % x}}.run\r\n{\"created\"=>1}                                                               \r\nirb(main):021:0> tbl.get_all(0, :index => 'ex').run                          \r\nERROR: Failed to parse backtrace (we'll take our best guess).                \r\nRethinkDB::RqlRuntimeError: Unrecognized variabled 1                         \r\nFailed assertion: !vars[var].empty()                                         \r\nAt: ../src/rdb_protocol/env.cc:111                                           \r\nBacktrace:                                                                   \r\nr.table(\"test\").get_all(0, {:index => \"ex\"})                                 \r\n^^^^^^^^^^^^^^^                                                              \r\nErroneous_Portion_Constructed:                                               \r\n        from (irb):4:in `irb_binding'                                        \r\n        from /usr/lib/ruby/1.8/irb/workspace.rb:52:in `irb_binding'          \r\n        from /usr/lib/ruby/1.8/irb/workspace.rb:52                           \r\nCalled:                                                                      \r\n        from ./lib/shim.rb:44:in `response_to_native'                        \r\n        from ./lib/net.rb:119:in `run'                                       \r\n        from ./lib/net.rb:26:in `run'                                        \r\n        from (irb):21                                                        \r\n```\r\n\r\nThis particular error seems to be occuring in the filter on the shards that Marc implemented for the case where we have long sindex keys.  We should probably store the sindex function's scope at the time we create it."
  , issueState = "closed"
  , issueId = Id 13674567
  , issueComments = 11
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2013 (-05) (-15) 07 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 8
          , milestoneClosedIssues = 183
          , milestoneDescription =
              Just "Issues that are absolutely necessary for 1.5."
          , milestoneTitle = "1.5"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/8"
          , milestoneCreatedAt = 2013 (-03) (-20) 02 : 06 : 44 UTC
          , milestoneState = "closed"
          }
  }