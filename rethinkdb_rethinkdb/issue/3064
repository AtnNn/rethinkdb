Issue
  { issueClosedAt = Just 2014 (-10) (-31) 20 : 45 : 04 UTC
  , issueUpdatedAt = 2015 (-01) (-02) 21 : 16 : 34 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/3064/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/3064"
  , issueClosedBy = Nothing
  , issueLabels = []
  , issueNumber = 3064
  , issueAssignee = Nothing
  , issueUser =
      SimpleUser
        { simpleUserId = Id 48436
        , simpleUserLogin = N "coffeemug"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/48436?v=3"
        , simpleUserUrl = "https://api.github.com/users/coffeemug"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "ReQL admin feedback, take two"
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/3064"
  , issueCreatedAt = 2014 (-09) (-16) 21 : 36 : 29 UTC
  , issueBody =
      Just
        "I just played with the latest version of reql-admin branch (as of Sep 16). Here's my second round of feedback on the API. Once that's in, we'll probably do one more round, but I feel like the API is getting _really_ close.\n\n**No changes:**\n\nI think `cluster_config`, `db_config`, and `server_config` tables are great as they are (other than renaming `uuid` to `id`, see below).\n\n**General changes:**\n- rename `uuid` to `id` in all system tables\n- we should use the term `primary_replica` instead of `director` everywhere. We should drop the term `director`.\n\n**Changes to `table_config`:**\n- rename `director` to `primary_replica`\n- there is an open question of how to deal with and present IDs and names (see #3030). I have to talk to @timmaxw and @neumino about it more.\n\n**Changes to `table_status`:**\n\nWe should use the following format to display the shard information:\n\n``` py\n'shards': [\n  {\n    'replicas': [{ 'server': {'id': ..., 'name': 'batgirl_local_9d7'}, 'status': 'ready'},\n                 { 'server': {'id': ..., 'name': 'batgirl_local_9d8'}, 'status': 'ready'}],\n    'primary_replica': {'id': ..., 'name': 'batgirl_local_9d7'}\n  }\n]\n```\n\nNote that a server with a role `nothing` should just show up as a replica, since the user conceptually thinks of it as a replica offloading data. It should have a proper status (e.g. \"offloading_data\", or whatever reasonable status name we have).\n\nWe should also group the `ready_*` fields under a nested status field as follows:\n\n``` py\n{\n    'status': {\n      'ready_completely': True,\n      'ready_for_outdated_reads': True,\n      'ready_for_reads': True,\n      'ready_for_writes': True,\n  }\n}\n```\n\nFinally, we need to add progress information, but there is a separate issue for that (see #2917).\n\n**Changes to `server_status`:**\n\nWe should use the following structure:\n\n``` py\n{'resources': {\n   'cluster_port': 29015,\n   'host': u'127.0.0.1',\n   'http_admin_port': 8080,\n   'reql_port': 28015\n   'cache_size_mb': 2042.064453125,\n   'pid': 53646,\n },\n 'status': u'available',\n 'connectivity': {\n   'time_connected': datetime.datetime(2014, 9, 16, 19, 47, 7, 787000, tzinfo=<rethinkdb.ast.RqlTzinfo object at 0x10e3ed190>),\n   'time_disconnected': None,\n   'time_started': datetime.datetime(2014, 9, 16, 19, 47, 7, 784000, tzinfo=<rethinkdb.ast.RqlTzinfo object at 0x10e3ed150>),\n },\n 'name': u'batgirl_local_9d7',\n 'id': u'bbab4f0e-3e33-4c5e-bb3d-6bbe8a196af6'}]\n```\n\nAnd here is the structure we should use for a disconnected/unavailable server:\n\n``` py\n{ 'status': u'unreachable',\n  'resources': {\n   'cluster_port': None,\n   'host': u'127.0.0.1',\n   'http_admin_port': None,\n   'reql_port': None,\n   'cache_size_mb': None,\n   'pid': None,\n },\n 'connectivity': {\n   'time_connected': None,\n   'time_disconnected': datetime.datetime(2014, 9, 16, 20, 45, 48, 85000, tzinfo=<rethinkdb.ast.RqlTzinfo object at 0x10e3ed110>),\n   'time_started': None,\n },\n 'name': u'batgirl_local_9d7',\n 'id': u'bbab4f0e-3e33-4c5e-bb3d-6bbe8a196af6'}]\n```\n\nNote, I'm assuming that host and port information are canonical (if not, they should be).\n\nAlso note, we should drop the list of tables from the server status and require a join. It's not the most intuitive way of doing things, but I think we should deal with this separately after we ship v1 of the new API.\n\n**Changes to `reconfigure`:**\n- We should drop positional arguments to `reconfigure` and instead accept two optargs (`shards` and `replicas`). If one of the two is missing, the system should use the current number of shards/replicas.\n- We should implement `reconfigure` on a database. Currently this implementation is missing.\n- There is an open question on what to do if no arguments are passed. I think we should reconfigure with existing number of shards and replicas, but this is controversial.\n- `reconfigure` (and writing directly to config) should work even if there isn't enough data. It should reshard lexicographically.\n\n**Status shortcuts:**\n\nWe should implement `r.db_status()` and `r.db_config()` (equivalent to `table_status`/`table_config`).\n\nGreat work @timmaxw and everybody!\n"
  , issueState = "closed"
  , issueId = Id 42936490
  , issueComments = 5
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2015 (-01) (-23) 08 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 81
          , milestoneClosedIssues = 321
          , milestoneDescription = Just ""
          , milestoneTitle = "1.16"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/81"
          , milestoneCreatedAt = 2014 (-09) (-04) 04 : 49 : 30 UTC
          , milestoneState = "closed"
          }
  }