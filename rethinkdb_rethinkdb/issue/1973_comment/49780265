IssueComment
  { issueCommentUpdatedAt = 2014 (-07) (-22) 18 : 26 : 42 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 316661
        , simpleUserLogin = N "timmaxw"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/316661?v=3"
        , simpleUserUrl = "https://api.github.com/users/timmaxw"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/49780265"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/1973#issuecomment-49780265"
  , issueCommentCreatedAt = 2014 (-07) (-22) 18 : 26 : 42 UTC
  , issueCommentBody =
      "My intuition is that a Lua interpreter running directly in the RethinkDB process would probably perform better than V8 running in an external process.\r\n\r\nFirst, let's look at some benchmarks. For long computations, V8 is definitely faster than un-JITed Lua; there are some benchmarks [here](http://benchmarksgame.alioth.debian.org/u32/benchmark.php?test=all&lang=lua&lang2=v8&data=u32). However, luaJIT seems to run at least 10x faster on average than stock Lua: see [here](http://luajit.org/performance_x86.html). The Internet seems to think that luaJIT is one of the fastest interpreters out there.\r\n\r\nBut these benchmarks might be measuring the wrong thing. I suspect that there's a lot of overhead in sending a query to an external process and getting the results back, and it's possible that this is more important than the raw throughput of the interpreter.\r\n\r\nI don't have any personal experience with luaJIT. It looks like a drop-in replacement for the regular Lua interpreter, so it should be equally easy to embed, but I don't know for sure."
  , issueCommentId = 49780265
  }