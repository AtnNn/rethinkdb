Issue
  { issueClosedAt = Just 2013 (-11) (-23) 00 : 23 : 07 UTC
  , issueUpdatedAt = 2013 (-11) (-23) 00 : 49 : 52 UTC
  , issueEventsUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/1688/events"
  , issueHtmlUrl =
      Just "https://github.com/rethinkdb/rethinkdb/issues/1688"
  , issueClosedBy = Nothing
  , issueLabels =
      [ IssueLabel
          { labelColor = "e102d8"
          , labelUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/labels/tp:bug"
          , labelName = "tp:bug"
          }
      ]
  , issueNumber = 1688
  , issueAssignee =
      Just
        SimpleUser
          { simpleUserId = Id 43867
          , simpleUserLogin = N "jdoliner"
          , simpleUserAvatarUrl =
              "https://avatars.githubusercontent.com/u/43867?v=3"
          , simpleUserUrl = "https://api.github.com/users/jdoliner"
          , simpleUserType = OwnerUser
          }
  , issueUser =
      SimpleUser
        { simpleUserId = Id 1461947
        , simpleUserLogin = N "neumino"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/1461947?v=3"
        , simpleUserUrl = "https://api.github.com/users/neumino"
        , simpleUserType = OwnerUser
        }
  , issueTitle = "Guarantee failed: [val == static_cast<T>(res)] "
  , issuePullRequest = Nothing
  , issueUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/1688"
  , issueCreatedAt = 2013 (-11) (-22) 21 : 07 : 28 UTC
  , issueBody =
      Just
        "On `next`, while creating 5 secondary indexes on a table with 225k documents\r\n\r\nAnd pulling secondary indexes status every second with\r\n\r\n```\r\nr.db(\"test\").table(\"test\").indexStatus()\r\n```\r\n\r\n```\r\nerror: Error in ./src/utils.hpp at line 498:\r\nerror: Guarantee failed: [val == static_cast<T>(res)] \r\nerror: Backtrace:\r\nerror: Fri Nov 22 13:02:27 2013\r\n       \r\n       1: rethinkdb_backtrace(void**, int) at thread_stack_pcs.cc:151\r\n       2: backtrace_t::backtrace_t() at backtrace.cc:202 (discriminator 1)\r\n       3: lazy_backtrace_formatter_t::lazy_backtrace_formatter_t() at backtrace.cc:276\r\n       4: format_backtrace(bool) at backtrace.cc:197\r\n       5: report_fatal_error(char const*, int, char const*, ...) at errors.cc:68 (discriminator 1)\r\n       6: double safe_to_double<unsigned long>(unsigned long) at utils.hpp:498 (discriminator 1)\r\n       7: ql::table_t::sindex_status(ql::env_t*, std::set<std::string, std::less<std::string>, std::allocator<std::string> >) at val.cc:248\r\n       8: ql::sindex_status_term_t::eval_impl(ql::scope_env_t*, ql::eval_flags_t) at sindex.cc:114 (discriminator 2)\r\n       9: ql::term_t::eval(ql::scope_env_t*, ql::eval_flags_t) at term.cc:345\r\n       10: ql::run(ql::protob_t<Query>, rdb_protocol_t::context_t*, signal_t*, Response*, ql::stream_cache2_t*) at term.cc:220\r\n       11: query2_server_t::handle(ql::protob_t<Query>, Response*, query2_server_t::context_t*) at pb_server.cc:63 (discriminator 1)\r\n       12: boost::_mfi::mf3<bool, query2_server_t, ql::protob_t<Query>, Response*, query2_server_t::context_t*>::operator()(query2_server_t*, ql::protob_t<Query>, Response*, query2_server_t::context_t*) const at mem_fn_template.hpp:393 (discriminator 3)\r\n       13: bool boost::_bi::list4<boost::_bi::value<query2_server_t*>, boost::arg<1>, boost::arg<2>, boost::arg<3> >::operator()<bool, boost::_mfi::mf3<bool, query2_server_t, ql::protob_t<Query>, Response*, query2_server_t::context_t*>, boost::_bi::list3<ql::protob_t<Query>&, Response*&, query2_server_t::context_t*&> >(boost::_bi::type<bool>, boost::_mfi::mf3<bool, query2_server_t, ql::protob_t<Query>, Response*, query2_server_t::context_t*>&, boost::_bi::list3<ql::protob_t<Query>&, Response*&, query2_server_t::context_t*&>&, long) at bind.hpp:447 (discriminator 1)\r\n       14: bool boost::_bi::bind_t<bool, boost::_mfi::mf3<bool, query2_server_t, ql::protob_t<Query>, Response*, query2_server_t::context_t*>, boost::_bi::list4<boost::_bi::value<query2_server_t*>, boost::arg<1>, boost::arg<2>, boost::arg<3> > >::operator()<ql::protob_t<Query>, Response*, query2_server_t::context_t*>(ql::protob_t<Query>&, Response*&, query2_server_t::context_t*&) at bind_template.hpp:116\r\n       15: boost::detail::function::function_obj_invoker3<boost::_bi::bind_t<bool, boost::_mfi::mf3<bool, query2_server_t, ql::protob_t<Query>, Response*, query2_server_t::context_t*>, boost::_bi::list4<boost::_bi::value<query2_server_t*>, boost::arg<1>, boost::arg<2>, boost::arg<3> > >, bool, ql::protob_t<Query>, Response*, query2_server_t::context_t*>::invoke(boost::detail::function::function_buffer&, ql::protob_t<Query>, Response*, query2_server_t::context_t*) at function_template.hpp:133\r\n       16: boost::function3<bool, ql::protob_t<Query>, Response*, query2_server_t::context_t*>::operator()(ql::protob_t<Query>, Response*, query2_server_t::context_t*) const at function_template.hpp:767\r\n       17: protob_server_t<ql::protob_t<Query>, Response, query2_server_t::context_t>::handle(http_req_t const&) at protob.tcc:310 (discriminator 1)\r\n       18: routing_http_app_t::handle(http_req_t const&) at routing_app.cc:29 (discriminator 2)\r\n       19: routing_http_app_t::handle(http_req_t const&) at routing_app.cc:29 (discriminator 2)\r\n       20: http_server_t::handle_conn(scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) at http.cc:308\r\n       21: boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>::operator()(http_server_t*, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t) const at mem_fn_template.hpp:280 (discriminator 4)\r\n       22: void boost::_bi::list3<boost::_bi::value<http_server_t*>, boost::arg<1>, boost::_bi::value<auto_drainer_t::lock_t> >::operator()<boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>, boost::_bi::list1<scoped_ptr_t<linux_tcp_conn_descriptor_t>&> >(boost::_bi::type<void>, boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>&, boost::_bi::list1<scoped_ptr_t<linux_tcp_conn_descriptor_t>&>&, int) at bind.hpp:392 (discriminator 1)\r\n       23: void boost::_bi::bind_t<void, boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<http_server_t*>, boost::arg<1>, boost::_bi::value<auto_drainer_t::lock_t> > >::operator()<scoped_ptr_t<linux_tcp_conn_descriptor_t> >(scoped_ptr_t<linux_tcp_conn_descriptor_t>&) at bind_template.hpp:32\r\n       24: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, http_server_t, scoped_ptr_t<linux_tcp_conn_descriptor_t> const&, auto_drainer_t::lock_t>, boost::_bi::list3<boost::_bi::value<http_server_t*>, boost::arg<1>, boost::_bi::value<auto_drainer_t::lock_t> > >, void, scoped_ptr_t<linux_tcp_conn_descriptor_t>&>::invoke(boost::detail::function::function_buffer&, scoped_ptr_t<linux_tcp_conn_descriptor_t>&) at function_template.hpp:154\r\n       25: boost::function1<void, scoped_ptr_t<linux_tcp_conn_descriptor_t>&>::operator()(scoped_ptr_t<linux_tcp_conn_descriptor_t>&) const at function_template.hpp:767\r\n       26: linux_nonthrowing_tcp_listener_t::handle(int) at network.cc:874 (discriminator 1)\r\n       27: boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>::operator()(linux_nonthrowing_tcp_listener_t*, int) const at mem_fn_template.hpp:166 (discriminator 3)\r\n       28: void boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<int> >::operator()<boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>, boost::_bi::list0>(boost::_bi::type<void>, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>&, boost::_bi::list0&, int) at bind.hpp:314\r\n       29: boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<int> > >::operator()() at bind_template.hpp:20\r\n       30: callable_action_instance_t<boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<int> > > >::run_action() at callable_action.hpp:28\r\n       31: callable_action_wrapper_t::run() at runtime_utils.cc:44\r\n       32: coro_t::run() at coroutines.cc:184\r\n       33: void coro_t::spawn_now_dangerously<boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<int> > > >(boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, int>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<int> > > const&) at coroutines.hpp:51\r\n       34: linux_nonthrowing_tcp_listener_t::accept_loop(auto_drainer_t::lock_t) at network.cc:842 (discriminator 1)\r\n       35: boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>::operator()(linux_nonthrowing_tcp_listener_t*, auto_drainer_t::lock_t) const at mem_fn_template.hpp:165 (discriminator 4)\r\n       36: void boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<auto_drainer_t::lock_t> >::operator()<boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>, boost::_bi::list0>(boost::_bi::type<void>, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>&, boost::_bi::list0&, int) at bind.hpp:313 (discriminator 1)\r\n       37: boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<auto_drainer_t::lock_t> > >::operator()() at bind_template.hpp:20\r\n       38: callable_action_instance_t<boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<auto_drainer_t::lock_t> > > >::run_action() at callable_action.hpp:28\r\n       39: callable_action_wrapper_t::run() at runtime_utils.cc:44\r\n       40: coro_t::run() at coroutines.cc:184\r\n       41: void coro_t::spawn_sometime<boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<auto_drainer_t::lock_t> > > >(boost::_bi::bind_t<void, boost::_mfi::mf1<void, linux_nonthrowing_tcp_listener_t, auto_drainer_t::lock_t>, boost::_bi::list2<boost::_bi::value<linux_nonthrowing_tcp_listener_t*>, boost::_bi::value<auto_drainer_t::lock_t> > > const&) at coroutines.hpp:56\r\n       42: linux_nonthrowing_tcp_listener_t::begin_listening() at network.cc:656 (discriminator 1)\r\n       43: linux_tcp_listener_t::linux_tcp_listener_t(std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, boost::function<void (scoped_ptr_t<linux_tcp_conn_descriptor_t>&)> const&) at network.cc:907 (discriminator 1)\r\n       44: http_server_t::http_server_t(std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, http_app_t*) at http.cc:187 (discriminator 1)\r\n       45: administrative_http_server_manager_t::administrative_http_server_manager_t(std::set<ip_address_t, std::less<ip_address_t>, std::allocator<ip_address_t> > const&, int, mailbox_manager_t*, metadata_change_handler_t<cluster_semilattice_metadata_t>*, metadata_change_handler_t<auth_semilattice_metadata_t>*, boost::shared_ptr<semilattice_readwrite_view_t<cluster_semilattice_metadata_t> >, clone_ptr_t<watchable_t<std::map<peer_id_t, cluster_directory_metadata_t, std::less<peer_id_t>, std::allocator<std::pair<peer_id_t const, cluster_directory_metadata_t> > > > >, namespace_repo_t<memcached_protocol_t>*, namespace_repo_t<rdb_protocol_t>*, admin_tracker_t*, http_app_t*, uuid_u, std::string) at server.cc:268 (discriminator 1)\r\n       46: do_serve(io_backender_t*, bool, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, peer_address_set_t const&, service_address_ports_t, std::string, os_signal_cond_t*, boost::optional<std::string> const&) at serve.cc:420 (discriminator 1)\r\n       47: serve(io_backender_t*, base_path_t const&, metadata_persistence::cluster_persistent_file_t*, metadata_persistence::auth_persistent_file_t*, peer_address_set_t const&, service_address_ports_t, std::string, os_signal_cond_t*, boost::optional<std::string> const&) at serve.cc:496 (discriminator 1)\r\n       48: run_rethinkdb_serve(base_path_t const&, serve_info_t const&, file_direct_io_mode_t, int, uuid_u const*, cluster_semilattice_metadata_t const*, directory_lock_t*, bool*) at command_line.cc:763 (discriminator 5)\r\n       49: run_rethinkdb_porcelain(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*) at command_line.cc:794\r\n       50: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::__call<void, , 0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>(std::tuple<>&&, std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul>) at functional:1296\r\n      51: void std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>::operator()<, void>() at functional:1355\r\n       52: boost::detail::function::void_function_obj_invoker0<std::_Bind<void (*(base_path_t, name_string_t, file_direct_io_mode_t, int, bool, serve_info_t, directory_lock_t*, bool*))(base_path_t const&, name_string_t const&, file_direct_io_mode_t, int, bool, serve_info_t const&, directory_lock_t*, bool*)>, void>::invoke(boost::detail::function::function_buffer&) at function_template.hpp:154\r\n       53: boost::function0<void>::operator()() const at function_template.hpp:767\r\n       54: starter_t::run_wrapper(boost::function<void ()> const&) at runtime.cc:59\r\n       55: boost::_mfi::mf1<void, starter_t, boost::function<void ()> const&>::operator()(starter_t*, boost::function<void ()> const&) const at mem_fn_template.hpp:166 (discriminator 3)\r\n       56: void boost::_bi::list2<boost::_bi::value<starter_t*>, boost::_bi::value<boost::function<void ()> > >::operator()<boost::_mfi::mf1<void, starter_t, boost::function<void ()> const&>, boost::_bi::list0>(boost::_bi::type<void>, boost::_mfi::mf1<void, starter_t, boost::function<void ()> const&>&, boost::_bi::list0&, int) at bind.hpp:314\r\n       57: boost::_bi::bind_t<void, boost::_mfi::mf1<void, starter_t, boost::function<void ()> const&>, boost::_bi::list2<boost::_bi::value<starter_t*>, boost::_bi::value<boost::function<void ()> > > >::operator()() at bind_template.hpp:20\r\n       58: boost::detail::function::void_function_obj_invoker0<boost::_bi::bind_t<void, boost::_mfi::mf1<void, starter_t, boost::function<void ()> const&>, boost::_bi::list2<boost::_bi::value<starter_t*>, boost::_bi::value<boost::function<void ()> > > >, void>::invoke(boost::detail::function::function_buffer&) at function_template.hpp:154\r\n       59: boost::function0<void>::operator()() const at function_template.hpp:767\r\n       60: callable_action_instance_t<boost::function<void ()> >::run_action() at callable_action.hpp:28\r\n       61: callable_action_wrapper_t::run() at runtime_utils.cc:44\r\n       62: coro_t::run() at coroutines.cc:184\r\n       63: void coro_t::spawn_sometime<boost::function<void ()> >(boost::function<void ()> const&) at coroutines.hpp:56\r\n       64: starter_t::on_thread_switch() at runtime.cc:55\r\n       65: linux_message_hub_t::on_event(int) at message_hub.cc:185\r\n       66: epoll_event_queue_t::run() at epoll.cc:101\r\n       67: linux_thread_pool_t::start_thread(void*) at thread_pool.cc:139\r\n       68: <unknown function> at 0x7ff08020b0a2 (/usr/lib/libpthread.so.0)\r\n       69: clone+0x6d at 0x7ff07ff3d49d (/usr/lib/libc.so.6)\r\nerror: Exiting.\r\nTrace/breakpoint trap (core dumped)\r\n\r\n```"
  , issueState = "closed"
  , issueId = Id 23167629
  , issueComments = 8
  , issueMilestone =
      Just
        Milestone
          { milestoneCreator =
              SimpleUser
                { simpleUserId = Id 48436
                , simpleUserLogin = N "coffeemug"
                , simpleUserAvatarUrl =
                    "https://avatars.githubusercontent.com/u/48436?v=3"
                , simpleUserUrl = "https://api.github.com/users/coffeemug"
                , simpleUserType = OwnerUser
                }
          , milestoneDueOn = Just 2013 (-11) (-21) 08 : 00 : 00 UTC
          , milestoneOpenIssues = 0
          , milestoneNumber = 46
          , milestoneClosedIssues = 79
          , milestoneDescription = Just ""
          , milestoneTitle = "1.11"
          , milestoneUrl =
              "https://api.github.com/repos/rethinkdb/rethinkdb/milestones/46"
          , milestoneCreatedAt = 2013 (-07) (-27) 05 : 40 : 03 UTC
          , milestoneState = "closed"
          }
  }