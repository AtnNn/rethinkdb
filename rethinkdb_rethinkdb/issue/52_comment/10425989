IssueComment
  { issueCommentUpdatedAt = 2012 (-11) (-15) 21 : 21 : 38 UTC
  , issueCommentUser =
      SimpleUser
        { simpleUserId = Id 505365
        , simpleUserLogin = N "danielmewes"
        , simpleUserAvatarUrl =
            "https://avatars.githubusercontent.com/u/505365?v=3"
        , simpleUserUrl = "https://api.github.com/users/danielmewes"
        , simpleUserType = OwnerUser
        }
  , issueCommentUrl =
      "https://api.github.com/repos/rethinkdb/rethinkdb/issues/comments/10425989"
  , issueCommentHtmlUrl =
      "https://github.com/rethinkdb/rethinkdb/issues/52#issuecomment-10425989"
  , issueCommentCreatedAt = 2012 (-11) (-15) 21 : 21 : 38 UTC
  , issueCommentBody =
      "I have to admit the name of the spawn method alone doesn't inspire confidence. ;-)\r\nIs this just grandmother's old spawn_now under a new flashy name or something new?\r\n\r\n-----Original Message-----\r\nFrom: Joe Doliner <notifications@github.com>\r\nDate: Thu, 15 Nov 2012 12:56:32 \r\nTo: rethinkdb/rethinkdb<rethinkdb@noreply.github.com>\r\nReply-To: rethinkdb/rethinkdb <reply@reply.github.com>\r\nCc: Daniel Mewes<danielmewes@onlinehome.de>\r\nSubject: Re: [rethinkdb] Database corruption (triggers segfault) (#52)\r\n\r\nAlright, I believe I have a theory as to how this comes up:\r\n\r\nIn mc_inner_buf_t::mc_inner_buf_t we spawn a coroutine which loads the inner buf using spawn_now_dangerously. There's a comment there that says we do this to make sure load_inner_buf() acquires the lock first.\r\n\r\nIn load_inner_buf we then switch to the serializer's thread and read the block. However since we switch threads there's no guarantee that the thing the comment says we need actually happens.\r\n\r\nWe get this error when we rapidly change the replica count from 1 to 2. Changing to 2 causes a backfill to happen. Changing to 1 causes all the data to be deleted. I suspect that a write from the backfill is somehow racing with a delete from the erase range.\r\n\r\n---\r\nReply to this email directly or view it on GitHub:\r\nhttps://github.com/rethinkdb/rethinkdb/issues/52#issuecomment-10425029\r\n\r\n"
  , issueCommentId = 10425989
  }